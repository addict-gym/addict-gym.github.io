{"version":3,"file":"567-599c3eb567fbdfd1abab.js","mappings":"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","sources":["webpack://addict-gym.com/../../node_modules/@fullcalendar/common/vdom.js","webpack://addict-gym.com/../../node_modules/tslib/tslib.es6.js","webpack://addict-gym.com/../../node_modules/preact/dist/preact.module.js","webpack://addict-gym.com/../../node_modules/preact/hooks/dist/hooks.module.js","webpack://addict-gym.com/../../node_modules/preact/compat/dist/compat.module.js","webpack://addict-gym.com/../../node_modules/@fullcalendar/core/vdom.js","webpack://addict-gym.com/../../node_modules/@fullcalendar/core/main.js","webpack://addict-gym.com/../../node_modules/@fullcalendar/daygrid/main.js","webpack://addict-gym.com/../../node_modules/@fullcalendar/interaction/main.js","webpack://addict-gym.com/../../node_modules/@fullcalendar/google-calendar/main.js","webpack://addict-gym.com/./src/components/sections/booking.js"],"sourcesContent":["/// <reference types=\"@fullcalendar/core-preact\" />\nif (typeof FullCalendarVDom === 'undefined') {\n  throw new Error('Please import the top-level fullcalendar lib before attempting to import a plugin.');\n}\n\nvar Component = FullCalendarVDom.Component;\nvar createElement = FullCalendarVDom.createElement;\nvar render = FullCalendarVDom.render;\nvar createRef = FullCalendarVDom.createRef;\nvar Fragment = FullCalendarVDom.Fragment;\nvar createContext = FullCalendarVDom.createContext;\nvar createPortal = FullCalendarVDom.createPortal;\nvar flushSync = FullCalendarVDom.flushSync;\nvar unmountComponentAtNode = FullCalendarVDom.unmountComponentAtNode;\n/* eslint-enable */\n\nexport { Component, Fragment, createContext, createElement, createPortal, createRef, flushSync, render, unmountComponentAtNode };","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nexport { _assign as __assign };\nexport function __rest(s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\nexport function __param(paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n}\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\nexport function __generator(thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\nexport var __createBinding = Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n};\nexport function __exportStar(m, o) {\n  for (var p in m) {\n    if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n  }\n}\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n}\n/** @deprecated */\n\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n}\n/** @deprecated */\n\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n}\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []),\n      i,\n      q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i;\n\n  function verb(n) {\n    if (g[n]) i[n] = function (v) {\n      return new Promise(function (a, b) {\n        q.push([n, v, a, b]) > 1 || resume(n, v);\n      });\n    };\n  }\n\n  function resume(n, v) {\n    try {\n      step(g[n](v));\n    } catch (e) {\n      settle(q[0][3], e);\n    }\n  }\n\n  function step(r) {\n    r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);\n  }\n\n  function fulfill(value) {\n    resume(\"next\", value);\n  }\n\n  function reject(value) {\n    resume(\"throw\", value);\n  }\n\n  function settle(f, v) {\n    if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);\n  }\n}\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) {\n    throw e;\n  }), verb(\"return\"), i[Symbol.iterator] = function () {\n    return this;\n  }, i;\n\n  function verb(n, f) {\n    i[n] = o[n] ? function (v) {\n      return (p = !p) ? {\n        value: __await(o[n](v)),\n        done: n === \"return\"\n      } : f ? f(v) : v;\n    } : f;\n  }\n}\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator],\n      i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i);\n\n  function verb(n) {\n    i[n] = o[n] && function (v) {\n      return new Promise(function (resolve, reject) {\n        v = o[n](v), settle(resolve, reject, v.done, v.value);\n      });\n    };\n  }\n\n  function settle(resolve, reject, d, v) {\n    Promise.resolve(v).then(function (v) {\n      resolve({\n        value: v,\n        done: d\n      });\n    }, reject);\n  }\n}\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n}\n;\n\nvar __setModuleDefault = Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n}\nexport function __importDefault(mod) {\n  return mod && mod.__esModule ? mod : {\n    default: mod\n  };\n}\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n}\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || typeof receiver !== \"object\" && typeof receiver !== \"function\") throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}","var n,\n    l,\n    u,\n    i,\n    t,\n    o,\n    r,\n    f,\n    e = {},\n    c = [],\n    s = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n\nfunction a(n, l) {\n  for (var u in l) {\n    n[u] = l[u];\n  }\n\n  return n;\n}\n\nfunction h(n) {\n  var l = n.parentNode;\n  l && l.removeChild(n);\n}\n\nfunction v(l, u, i) {\n  var t,\n      o,\n      r,\n      f = {};\n\n  for (r in u) {\n    \"key\" == r ? t = u[r] : \"ref\" == r ? o = u[r] : f[r] = u[r];\n  }\n\n  if (arguments.length > 2 && (f.children = arguments.length > 3 ? n.call(arguments, 2) : i), \"function\" == typeof l && null != l.defaultProps) for (r in l.defaultProps) {\n    void 0 === f[r] && (f[r] = l.defaultProps[r]);\n  }\n  return y(l, f, t, o, null);\n}\n\nfunction y(n, i, t, o, r) {\n  var f = {\n    type: n,\n    props: i,\n    key: t,\n    ref: o,\n    __k: null,\n    __: null,\n    __b: 0,\n    __e: null,\n    __d: void 0,\n    __c: null,\n    __h: null,\n    constructor: void 0,\n    __v: null == r ? ++u : r\n  };\n  return null == r && null != l.vnode && l.vnode(f), f;\n}\n\nfunction p() {\n  return {\n    current: null\n  };\n}\n\nfunction d(n) {\n  return n.children;\n}\n\nfunction _(n, l) {\n  this.props = n, this.context = l;\n}\n\nfunction k(n, l) {\n  if (null == l) return n.__ ? k(n.__, n.__.__k.indexOf(n) + 1) : null;\n\n  for (var u; l < n.__k.length; l++) {\n    if (null != (u = n.__k[l]) && null != u.__e) return u.__e;\n  }\n\n  return \"function\" == typeof n.type ? k(n) : null;\n}\n\nfunction b(n) {\n  var l, u;\n\n  if (null != (n = n.__) && null != n.__c) {\n    for (n.__e = n.__c.base = null, l = 0; l < n.__k.length; l++) {\n      if (null != (u = n.__k[l]) && null != u.__e) {\n        n.__e = n.__c.base = u.__e;\n        break;\n      }\n    }\n\n    return b(n);\n  }\n}\n\nfunction m(n) {\n  (!n.__d && (n.__d = !0) && t.push(n) && !g.__r++ || r !== l.debounceRendering) && ((r = l.debounceRendering) || o)(g);\n}\n\nfunction g() {\n  for (var n; g.__r = t.length;) {\n    n = t.sort(function (n, l) {\n      return n.__v.__b - l.__v.__b;\n    }), t = [], n.some(function (n) {\n      var l, u, i, t, o, r;\n      n.__d && (o = (t = (l = n).__v).__e, (r = l.__P) && (u = [], (i = a({}, t)).__v = t.__v + 1, j(r, t, i, l.__n, void 0 !== r.ownerSVGElement, null != t.__h ? [o] : null, u, null == o ? k(t) : o, t.__h), z(u, t), t.__e != o && b(t)));\n    });\n  }\n}\n\nfunction w(n, l, u, i, t, o, r, f, s, a) {\n  var h,\n      v,\n      p,\n      _,\n      b,\n      m,\n      g,\n      w = i && i.__k || c,\n      A = w.length;\n\n  for (u.__k = [], h = 0; h < l.length; h++) {\n    if (null != (_ = u.__k[h] = null == (_ = l[h]) || \"boolean\" == typeof _ ? null : \"string\" == typeof _ || \"number\" == typeof _ || \"bigint\" == typeof _ ? y(null, _, null, null, _) : Array.isArray(_) ? y(d, {\n      children: _\n    }, null, null, null) : _.__b > 0 ? y(_.type, _.props, _.key, null, _.__v) : _)) {\n      if (_.__ = u, _.__b = u.__b + 1, null === (p = w[h]) || p && _.key == p.key && _.type === p.type) w[h] = void 0;else for (v = 0; v < A; v++) {\n        if ((p = w[v]) && _.key == p.key && _.type === p.type) {\n          w[v] = void 0;\n          break;\n        }\n\n        p = null;\n      }\n      j(n, _, p = p || e, t, o, r, f, s, a), b = _.__e, (v = _.ref) && p.ref != v && (g || (g = []), p.ref && g.push(p.ref, null, _), g.push(v, _.__c || b, _)), null != b ? (null == m && (m = b), \"function\" == typeof _.type && _.__k === p.__k ? _.__d = s = x(_, s, n) : s = P(n, _, p, w, b, s), \"function\" == typeof u.type && (u.__d = s)) : s && p.__e == s && s.parentNode != n && (s = k(p));\n    }\n  }\n\n  for (u.__e = m, h = A; h--;) {\n    null != w[h] && (\"function\" == typeof u.type && null != w[h].__e && w[h].__e == u.__d && (u.__d = k(i, h + 1)), N(w[h], w[h]));\n  }\n\n  if (g) for (h = 0; h < g.length; h++) {\n    M(g[h], g[++h], g[++h]);\n  }\n}\n\nfunction x(n, l, u) {\n  for (var i, t = n.__k, o = 0; t && o < t.length; o++) {\n    (i = t[o]) && (i.__ = n, l = \"function\" == typeof i.type ? x(i, l, u) : P(u, i, i, t, i.__e, l));\n  }\n\n  return l;\n}\n\nfunction A(n, l) {\n  return l = l || [], null == n || \"boolean\" == typeof n || (Array.isArray(n) ? n.some(function (n) {\n    A(n, l);\n  }) : l.push(n)), l;\n}\n\nfunction P(n, l, u, i, t, o) {\n  var r, f, e;\n  if (void 0 !== l.__d) r = l.__d, l.__d = void 0;else if (null == u || t != o || null == t.parentNode) n: if (null == o || o.parentNode !== n) n.appendChild(t), r = null;else {\n    for (f = o, e = 0; (f = f.nextSibling) && e < i.length; e += 2) {\n      if (f == t) break n;\n    }\n\n    n.insertBefore(t, o), r = o;\n  }\n  return void 0 !== r ? r : t.nextSibling;\n}\n\nfunction C(n, l, u, i, t) {\n  var o;\n\n  for (o in u) {\n    \"children\" === o || \"key\" === o || o in l || H(n, o, null, u[o], i);\n  }\n\n  for (o in l) {\n    t && \"function\" != typeof l[o] || \"children\" === o || \"key\" === o || \"value\" === o || \"checked\" === o || u[o] === l[o] || H(n, o, l[o], u[o], i);\n  }\n}\n\nfunction $(n, l, u) {\n  \"-\" === l[0] ? n.setProperty(l, u) : n[l] = null == u ? \"\" : \"number\" != typeof u || s.test(l) ? u : u + \"px\";\n}\n\nfunction H(n, l, u, i, t) {\n  var o;\n\n  n: if (\"style\" === l) {\n    if (\"string\" == typeof u) n.style.cssText = u;else {\n      if (\"string\" == typeof i && (n.style.cssText = i = \"\"), i) for (l in i) {\n        u && l in u || $(n.style, l, \"\");\n      }\n      if (u) for (l in u) {\n        i && u[l] === i[l] || $(n.style, l, u[l]);\n      }\n    }\n  } else if (\"o\" === l[0] && \"n\" === l[1]) o = l !== (l = l.replace(/Capture$/, \"\")), l = l.toLowerCase() in n ? l.toLowerCase().slice(2) : l.slice(2), n.l || (n.l = {}), n.l[l + o] = u, u ? i || n.addEventListener(l, o ? T : I, o) : n.removeEventListener(l, o ? T : I, o);else if (\"dangerouslySetInnerHTML\" !== l) {\n    if (t) l = l.replace(/xlink(H|:h)/, \"h\").replace(/sName$/, \"s\");else if (\"href\" !== l && \"list\" !== l && \"form\" !== l && \"tabIndex\" !== l && \"download\" !== l && l in n) try {\n      n[l] = null == u ? \"\" : u;\n      break n;\n    } catch (n) {}\n    \"function\" == typeof u || (null != u && (!1 !== u || \"a\" === l[0] && \"r\" === l[1]) ? n.setAttribute(l, u) : n.removeAttribute(l));\n  }\n}\n\nfunction I(n) {\n  this.l[n.type + !1](l.event ? l.event(n) : n);\n}\n\nfunction T(n) {\n  this.l[n.type + !0](l.event ? l.event(n) : n);\n}\n\nfunction j(n, u, i, t, o, r, f, e, c) {\n  var s,\n      h,\n      v,\n      y,\n      p,\n      k,\n      b,\n      m,\n      g,\n      x,\n      A,\n      P,\n      C,\n      $ = u.type;\n  if (void 0 !== u.constructor) return null;\n  null != i.__h && (c = i.__h, e = u.__e = i.__e, u.__h = null, r = [e]), (s = l.__b) && s(u);\n\n  try {\n    n: if (\"function\" == typeof $) {\n      if (m = u.props, g = (s = $.contextType) && t[s.__c], x = s ? g ? g.props.value : s.__ : t, i.__c ? b = (h = u.__c = i.__c).__ = h.__E : (\"prototype\" in $ && $.prototype.render ? u.__c = h = new $(m, x) : (u.__c = h = new _(m, x), h.constructor = $, h.render = O), g && g.sub(h), h.props = m, h.state || (h.state = {}), h.context = x, h.__n = t, v = h.__d = !0, h.__h = []), null == h.__s && (h.__s = h.state), null != $.getDerivedStateFromProps && (h.__s == h.state && (h.__s = a({}, h.__s)), a(h.__s, $.getDerivedStateFromProps(m, h.__s))), y = h.props, p = h.state, v) null == $.getDerivedStateFromProps && null != h.componentWillMount && h.componentWillMount(), null != h.componentDidMount && h.__h.push(h.componentDidMount);else {\n        if (null == $.getDerivedStateFromProps && m !== y && null != h.componentWillReceiveProps && h.componentWillReceiveProps(m, x), !h.__e && null != h.shouldComponentUpdate && !1 === h.shouldComponentUpdate(m, h.__s, x) || u.__v === i.__v) {\n          h.props = m, h.state = h.__s, u.__v !== i.__v && (h.__d = !1), h.__v = u, u.__e = i.__e, u.__k = i.__k, u.__k.forEach(function (n) {\n            n && (n.__ = u);\n          }), h.__h.length && f.push(h);\n          break n;\n        }\n\n        null != h.componentWillUpdate && h.componentWillUpdate(m, h.__s, x), null != h.componentDidUpdate && h.__h.push(function () {\n          h.componentDidUpdate(y, p, k);\n        });\n      }\n      if (h.context = x, h.props = m, h.__v = u, h.__P = n, A = l.__r, P = 0, \"prototype\" in $ && $.prototype.render) h.state = h.__s, h.__d = !1, A && A(u), s = h.render(h.props, h.state, h.context);else do {\n        h.__d = !1, A && A(u), s = h.render(h.props, h.state, h.context), h.state = h.__s;\n      } while (h.__d && ++P < 25);\n      h.state = h.__s, null != h.getChildContext && (t = a(a({}, t), h.getChildContext())), v || null == h.getSnapshotBeforeUpdate || (k = h.getSnapshotBeforeUpdate(y, p)), C = null != s && s.type === d && null == s.key ? s.props.children : s, w(n, Array.isArray(C) ? C : [C], u, i, t, o, r, f, e, c), h.base = u.__e, u.__h = null, h.__h.length && f.push(h), b && (h.__E = h.__ = null), h.__e = !1;\n    } else null == r && u.__v === i.__v ? (u.__k = i.__k, u.__e = i.__e) : u.__e = L(i.__e, u, i, t, o, r, f, c);\n\n    (s = l.diffed) && s(u);\n  } catch (n) {\n    u.__v = null, (c || null != r) && (u.__e = e, u.__h = !!c, r[r.indexOf(e)] = null), l.__e(n, u, i);\n  }\n}\n\nfunction z(n, u) {\n  l.__c && l.__c(u, n), n.some(function (u) {\n    try {\n      n = u.__h, u.__h = [], n.some(function (n) {\n        n.call(u);\n      });\n    } catch (n) {\n      l.__e(n, u.__v);\n    }\n  });\n}\n\nfunction L(l, u, i, t, o, r, f, c) {\n  var s,\n      a,\n      v,\n      y = i.props,\n      p = u.props,\n      d = u.type,\n      _ = 0;\n  if (\"svg\" === d && (o = !0), null != r) for (; _ < r.length; _++) {\n    if ((s = r[_]) && \"setAttribute\" in s == !!d && (d ? s.localName === d : 3 === s.nodeType)) {\n      l = s, r[_] = null;\n      break;\n    }\n  }\n\n  if (null == l) {\n    if (null === d) return document.createTextNode(p);\n    l = o ? document.createElementNS(\"http://www.w3.org/2000/svg\", d) : document.createElement(d, p.is && p), r = null, c = !1;\n  }\n\n  if (null === d) y === p || c && l.data === p || (l.data = p);else {\n    if (r = r && n.call(l.childNodes), a = (y = i.props || e).dangerouslySetInnerHTML, v = p.dangerouslySetInnerHTML, !c) {\n      if (null != r) for (y = {}, _ = 0; _ < l.attributes.length; _++) {\n        y[l.attributes[_].name] = l.attributes[_].value;\n      }\n      (v || a) && (v && (a && v.__html == a.__html || v.__html === l.innerHTML) || (l.innerHTML = v && v.__html || \"\"));\n    }\n\n    if (C(l, p, y, o, c), v) u.__k = [];else if (_ = u.props.children, w(l, Array.isArray(_) ? _ : [_], u, i, t, o && \"foreignObject\" !== d, r, f, r ? r[0] : i.__k && k(i, 0), c), null != r) for (_ = r.length; _--;) {\n      null != r[_] && h(r[_]);\n    }\n    c || (\"value\" in p && void 0 !== (_ = p.value) && (_ !== l.value || \"progress\" === d && !_ || \"option\" === d && _ !== y.value) && H(l, \"value\", _, y.value, !1), \"checked\" in p && void 0 !== (_ = p.checked) && _ !== l.checked && H(l, \"checked\", _, y.checked, !1));\n  }\n  return l;\n}\n\nfunction M(n, u, i) {\n  try {\n    \"function\" == typeof n ? n(u) : n.current = u;\n  } catch (n) {\n    l.__e(n, i);\n  }\n}\n\nfunction N(n, u, i) {\n  var t, o;\n\n  if (l.unmount && l.unmount(n), (t = n.ref) && (t.current && t.current !== n.__e || M(t, null, u)), null != (t = n.__c)) {\n    if (t.componentWillUnmount) try {\n      t.componentWillUnmount();\n    } catch (n) {\n      l.__e(n, u);\n    }\n    t.base = t.__P = null;\n  }\n\n  if (t = n.__k) for (o = 0; o < t.length; o++) {\n    t[o] && N(t[o], u, \"function\" != typeof n.type);\n  }\n  i || null == n.__e || h(n.__e), n.__e = n.__d = void 0;\n}\n\nfunction O(n, l, u) {\n  return this.constructor(n, u);\n}\n\nfunction S(u, i, t) {\n  var o, r, f;\n  l.__ && l.__(u, i), r = (o = \"function\" == typeof t) ? null : t && t.__k || i.__k, f = [], j(i, u = (!o && t || i).__k = v(d, null, [u]), r || e, e, void 0 !== i.ownerSVGElement, !o && t ? [t] : r ? null : i.firstChild ? n.call(i.childNodes) : null, f, !o && t ? t : r ? r.__e : i.firstChild, o), z(f, u);\n}\n\nfunction q(n, l) {\n  S(n, l, q);\n}\n\nfunction B(l, u, i) {\n  var t,\n      o,\n      r,\n      f = a({}, l.props);\n\n  for (r in u) {\n    \"key\" == r ? t = u[r] : \"ref\" == r ? o = u[r] : f[r] = u[r];\n  }\n\n  return arguments.length > 2 && (f.children = arguments.length > 3 ? n.call(arguments, 2) : i), y(l.type, f, t || l.key, o || l.ref, null);\n}\n\nfunction D(n, l) {\n  var u = {\n    __c: l = \"__cC\" + f++,\n    __: n,\n    Consumer: function Consumer(n, l) {\n      return n.children(l);\n    },\n    Provider: function Provider(n) {\n      var u, i;\n      return this.getChildContext || (u = [], (i = {})[l] = this, this.getChildContext = function () {\n        return i;\n      }, this.shouldComponentUpdate = function (n) {\n        this.props.value !== n.value && u.some(m);\n      }, this.sub = function (n) {\n        u.push(n);\n        var l = n.componentWillUnmount;\n\n        n.componentWillUnmount = function () {\n          u.splice(u.indexOf(n), 1), l && l.call(n);\n        };\n      }), n.children;\n    }\n  };\n  return u.Provider.__ = u.Consumer.contextType = u;\n}\n\nn = c.slice, l = {\n  __e: function __e(n, l, u, i) {\n    for (var t, o, r; l = l.__;) {\n      if ((t = l.__c) && !t.__) try {\n        if ((o = t.constructor) && null != o.getDerivedStateFromError && (t.setState(o.getDerivedStateFromError(n)), r = t.__d), null != t.componentDidCatch && (t.componentDidCatch(n, i || {}), r = t.__d), r) return t.__E = t;\n      } catch (l) {\n        n = l;\n      }\n    }\n\n    throw n;\n  }\n}, u = 0, i = function i(n) {\n  return null != n && void 0 === n.constructor;\n}, _.prototype.setState = function (n, l) {\n  var u;\n  u = null != this.__s && this.__s !== this.state ? this.__s : this.__s = a({}, this.state), \"function\" == typeof n && (n = n(a({}, u), this.props)), n && a(u, n), null != n && this.__v && (l && this.__h.push(l), m(this));\n}, _.prototype.forceUpdate = function (n) {\n  this.__v && (this.__e = !0, n && this.__h.push(n), m(this));\n}, _.prototype.render = d, t = [], o = \"function\" == typeof Promise ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, g.__r = 0, f = 0;\nexport { S as render, q as hydrate, v as createElement, v as h, d as Fragment, p as createRef, i as isValidElement, _ as Component, B as cloneElement, D as createContext, A as toChildArray, l as options };","import { options as n } from \"preact\";\nvar t,\n    u,\n    r,\n    o,\n    i = 0,\n    c = [],\n    f = n.__b,\n    e = n.__r,\n    a = n.diffed,\n    v = n.__c,\n    l = n.unmount;\n\nfunction m(t, r) {\n  n.__h && n.__h(u, t, i || r), i = 0;\n  var o = u.__H || (u.__H = {\n    __: [],\n    __h: []\n  });\n  return t >= o.__.length && o.__.push({}), o.__[t];\n}\n\nfunction d(n) {\n  return i = 1, p(z, n);\n}\n\nfunction p(n, r, o) {\n  var i = m(t++, 2);\n  return i.t = n, i.__c || (i.__ = [o ? o(r) : z(void 0, r), function (n) {\n    var t = i.t(i.__[0], n);\n    i.__[0] !== t && (i.__ = [t, i.__[1]], i.__c.setState({}));\n  }], i.__c = u), i.__;\n}\n\nfunction y(r, o) {\n  var i = m(t++, 3);\n  !n.__s && w(i.__H, o) && (i.__ = r, i.u = o, u.__H.__h.push(i));\n}\n\nfunction h(r, o) {\n  var i = m(t++, 4);\n  !n.__s && w(i.__H, o) && (i.__ = r, i.u = o, u.__h.push(i));\n}\n\nfunction s(n) {\n  return i = 5, A(function () {\n    return {\n      current: n\n    };\n  }, []);\n}\n\nfunction _(n, t, u) {\n  i = 6, h(function () {\n    return \"function\" == typeof n ? (n(t()), function () {\n      return n(null);\n    }) : n ? (n.current = t(), function () {\n      return n.current = null;\n    }) : void 0;\n  }, null == u ? u : u.concat(n));\n}\n\nfunction A(n, u) {\n  var r = m(t++, 7);\n  return w(r.__H, u) ? (r.o = n(), r.u = u, r.__h = n, r.o) : r.__;\n}\n\nfunction F(n, t) {\n  return i = 8, A(function () {\n    return n;\n  }, t);\n}\n\nfunction T(n) {\n  var r = u.context[n.__c],\n      o = m(t++, 9);\n  return o.c = n, r ? (null == o.__ && (o.__ = !0, r.sub(u)), r.props.value) : n.__;\n}\n\nfunction q(t, u) {\n  n.useDebugValue && n.useDebugValue(u ? u(t) : t);\n}\n\nfunction x(n) {\n  var r = m(t++, 10),\n      o = d();\n  return r.__ = n, u.componentDidCatch || (u.componentDidCatch = function (n) {\n    r.__ && r.__(n), o[1](n);\n  }), [o[0], function () {\n    o[1](void 0);\n  }];\n}\n\nfunction b() {\n  for (var t; t = c.shift();) {\n    if (t.__P) try {\n      t.__H.__h.forEach(j), t.__H.__h.forEach(k), t.__H.__h = [];\n    } catch (u) {\n      t.__H.__h = [], n.__e(u, t.__v);\n    }\n  }\n}\n\nn.__b = function (n) {\n  u = null, f && f(n);\n}, n.__r = function (n) {\n  e && e(n), t = 0;\n  var o = (u = n.__c).__H;\n  o && (r === u ? (o.__h = [], u.__h = [], o.__.forEach(function (n) {\n    n.o = n.u = void 0;\n  })) : (o.__.forEach(function (n) {\n    n.u && (n.__H = n.u), n.o && (n.__ = n.o), n.o = n.u = void 0;\n  }), o.__h.forEach(j), o.__h.forEach(k), o.__h = [])), r = u;\n}, n.diffed = function (t) {\n  a && a(t);\n  var i = t.__c;\n  i && i.__H && i.__H.__h.length && (1 !== c.push(i) && o === n.requestAnimationFrame || ((o = n.requestAnimationFrame) || function (n) {\n    var t,\n        u = function u() {\n      clearTimeout(r), g && cancelAnimationFrame(t), setTimeout(n);\n    },\n        r = setTimeout(u, 100);\n\n    g && (t = requestAnimationFrame(u));\n  })(b)), u = null, r = null;\n}, n.__c = function (t, u) {\n  u.some(function (t) {\n    try {\n      t.__H && t.__H.__.forEach(function (n) {\n        n.u && (n.__H = n.u), n.o && (n.__ = n.o), n.o = n.u = void 0;\n      }), t.__h.forEach(j), t.__h = t.__h.filter(function (n) {\n        return !n.__ || k(n);\n      });\n    } catch (r) {\n      u.some(function (n) {\n        n.__h && (n.__h = []);\n      }), u = [], n.__e(r, t.__v);\n    }\n  }), v && v(t, u);\n}, n.unmount = function (t) {\n  l && l(t);\n  var u,\n      r = t.__c;\n  r && r.__H && (r.__H.__.forEach(function (n) {\n    try {\n      j(n);\n    } catch (n) {\n      u = n;\n    }\n  }), u && n.__e(u, r.__v));\n};\nvar g = \"function\" == typeof requestAnimationFrame;\n\nfunction j(n) {\n  var t = u,\n      r = n.__c;\n  \"function\" == typeof r && (n.__c = void 0, r()), u = t;\n}\n\nfunction k(n) {\n  var t = u;\n  n.__c = n.__(), u = t;\n}\n\nfunction w(n, t) {\n  return !n || n.length !== t.length || t.some(function (t, u) {\n    return t !== n[u];\n  });\n}\n\nfunction z(n, t) {\n  return \"function\" == typeof t ? t(n) : t;\n}\n\nexport { d as useState, p as useReducer, y as useEffect, h as useLayoutEffect, s as useRef, _ as useImperativeHandle, A as useMemo, F as useCallback, T as useContext, q as useDebugValue, x as useErrorBoundary };","import { useState as n, useReducer as t, useEffect as e, useLayoutEffect as r, useRef as u, useImperativeHandle as o, useMemo as i, useCallback as l, useContext as f, useDebugValue as c } from \"preact/hooks\";\nexport * from \"preact/hooks\";\nimport { Component as a, createElement as s, options as h, toChildArray as d, Fragment as v, render as p, hydrate as m, cloneElement as y, createRef as b, createContext as _ } from \"preact\";\nexport { createElement, createContext, createRef, Fragment, Component } from \"preact\";\n\nfunction C(n, t) {\n  for (var e in t) {\n    n[e] = t[e];\n  }\n\n  return n;\n}\n\nfunction S(n, t) {\n  for (var e in n) {\n    if (\"__source\" !== e && !(e in t)) return !0;\n  }\n\n  for (var r in t) {\n    if (\"__source\" !== r && n[r] !== t[r]) return !0;\n  }\n\n  return !1;\n}\n\nfunction E(n) {\n  this.props = n;\n}\n\nfunction g(n, t) {\n  function e(n) {\n    var e = this.props.ref,\n        r = e == n.ref;\n    return !r && e && (e.call ? e(null) : e.current = null), t ? !t(this.props, n) || !r : S(this.props, n);\n  }\n\n  function r(t) {\n    return this.shouldComponentUpdate = e, s(n, t);\n  }\n\n  return r.displayName = \"Memo(\" + (n.displayName || n.name) + \")\", r.prototype.isReactComponent = !0, r.__f = !0, r;\n}\n\n(E.prototype = new a()).isPureReactComponent = !0, E.prototype.shouldComponentUpdate = function (n, t) {\n  return S(this.props, n) || S(this.state, t);\n};\nvar w = h.__b;\n\nh.__b = function (n) {\n  n.type && n.type.__f && n.ref && (n.props.ref = n.ref, n.ref = null), w && w(n);\n};\n\nvar R = \"undefined\" != typeof Symbol && Symbol.for && Symbol.for(\"react.forward_ref\") || 3911;\n\nfunction x(n) {\n  function t(t) {\n    var e = C({}, t);\n    return delete e.ref, n(e, t.ref || null);\n  }\n\n  return t.$$typeof = R, t.render = t, t.prototype.isReactComponent = t.__f = !0, t.displayName = \"ForwardRef(\" + (n.displayName || n.name) + \")\", t;\n}\n\nvar N = function N(n, t) {\n  return null == n ? null : d(d(n).map(t));\n},\n    k = {\n  map: N,\n  forEach: N,\n  count: function count(n) {\n    return n ? d(n).length : 0;\n  },\n  only: function only(n) {\n    var t = d(n);\n    if (1 !== t.length) throw \"Children.only\";\n    return t[0];\n  },\n  toArray: d\n},\n    A = h.__e;\n\nh.__e = function (n, t, e, r) {\n  if (n.then) for (var u, o = t; o = o.__;) {\n    if ((u = o.__c) && u.__c) return null == t.__e && (t.__e = e.__e, t.__k = e.__k), u.__c(n, t);\n  }\n  A(n, t, e, r);\n};\n\nvar O = h.unmount;\n\nfunction L() {\n  this.__u = 0, this.t = null, this.__b = null;\n}\n\nfunction U(n) {\n  var t = n.__.__c;\n  return t && t.__e && t.__e(n);\n}\n\nfunction F(n) {\n  var t, e, r;\n\n  function u(u) {\n    if (t || (t = n()).then(function (n) {\n      e = n.default || n;\n    }, function (n) {\n      r = n;\n    }), r) throw r;\n    if (!e) throw t;\n    return s(e, u);\n  }\n\n  return u.displayName = \"Lazy\", u.__f = !0, u;\n}\n\nfunction M() {\n  this.u = null, this.o = null;\n}\n\nh.unmount = function (n) {\n  var t = n.__c;\n  t && t.__R && t.__R(), t && !0 === n.__h && (n.type = null), O && O(n);\n}, (L.prototype = new a()).__c = function (n, t) {\n  var e = t.__c,\n      r = this;\n  null == r.t && (r.t = []), r.t.push(e);\n\n  var u = U(r.__v),\n      o = !1,\n      i = function i() {\n    o || (o = !0, e.__R = null, u ? u(l) : l());\n  };\n\n  e.__R = i;\n\n  var l = function l() {\n    if (! --r.__u) {\n      if (r.state.__e) {\n        var n = r.state.__e;\n\n        r.__v.__k[0] = function n(t, e, r) {\n          return t && (t.__v = null, t.__k = t.__k && t.__k.map(function (t) {\n            return n(t, e, r);\n          }), t.__c && t.__c.__P === e && (t.__e && r.insertBefore(t.__e, t.__d), t.__c.__e = !0, t.__c.__P = r)), t;\n        }(n, n.__c.__P, n.__c.__O);\n      }\n\n      var t;\n\n      for (r.setState({\n        __e: r.__b = null\n      }); t = r.t.pop();) {\n        t.forceUpdate();\n      }\n    }\n  },\n      f = !0 === t.__h;\n\n  r.__u++ || f || r.setState({\n    __e: r.__b = r.__v.__k[0]\n  }), n.then(i, i);\n}, L.prototype.componentWillUnmount = function () {\n  this.t = [];\n}, L.prototype.render = function (n, t) {\n  if (this.__b) {\n    if (this.__v.__k) {\n      var e = document.createElement(\"div\"),\n          r = this.__v.__k[0].__c;\n\n      this.__v.__k[0] = function n(t, e, r) {\n        return t && (t.__c && t.__c.__H && (t.__c.__H.__.forEach(function (n) {\n          \"function\" == typeof n.__c && n.__c();\n        }), t.__c.__H = null), null != (t = C({}, t)).__c && (t.__c.__P === r && (t.__c.__P = e), t.__c = null), t.__k = t.__k && t.__k.map(function (t) {\n          return n(t, e, r);\n        })), t;\n      }(this.__b, e, r.__O = r.__P);\n    }\n\n    this.__b = null;\n  }\n\n  var u = t.__e && s(v, null, n.fallback);\n  return u && (u.__h = null), [s(v, null, t.__e ? null : n.children), u];\n};\n\nvar T = function T(n, t, e) {\n  if (++e[1] === e[0] && n.o.delete(t), n.props.revealOrder && (\"t\" !== n.props.revealOrder[0] || !n.o.size)) for (e = n.u; e;) {\n    for (; e.length > 3;) {\n      e.pop()();\n    }\n\n    if (e[1] < e[0]) break;\n    n.u = e = e[2];\n  }\n};\n\nfunction D(n) {\n  return this.getChildContext = function () {\n    return n.context;\n  }, n.children;\n}\n\nfunction I(n) {\n  var t = this,\n      e = n.i;\n  t.componentWillUnmount = function () {\n    p(null, t.l), t.l = null, t.i = null;\n  }, t.i && t.i !== e && t.componentWillUnmount(), n.__v ? (t.l || (t.i = e, t.l = {\n    nodeType: 1,\n    parentNode: e,\n    childNodes: [],\n    appendChild: function appendChild(n) {\n      this.childNodes.push(n), t.i.appendChild(n);\n    },\n    insertBefore: function insertBefore(n, e) {\n      this.childNodes.push(n), t.i.appendChild(n);\n    },\n    removeChild: function removeChild(n) {\n      this.childNodes.splice(this.childNodes.indexOf(n) >>> 1, 1), t.i.removeChild(n);\n    }\n  }), p(s(D, {\n    context: t.context\n  }, n.__v), t.l)) : t.l && t.componentWillUnmount();\n}\n\nfunction W(n, t) {\n  var e = s(I, {\n    __v: n,\n    i: t\n  });\n  return e.containerInfo = t, e;\n}\n\n(M.prototype = new a()).__e = function (n) {\n  var t = this,\n      e = U(t.__v),\n      r = t.o.get(n);\n  return r[0]++, function (u) {\n    var o = function o() {\n      t.props.revealOrder ? (r.push(u), T(t, n, r)) : u();\n    };\n\n    e ? e(o) : o();\n  };\n}, M.prototype.render = function (n) {\n  this.u = null, this.o = new Map();\n  var t = d(n.children);\n  n.revealOrder && \"b\" === n.revealOrder[0] && t.reverse();\n\n  for (var e = t.length; e--;) {\n    this.o.set(t[e], this.u = [1, 0, this.u]);\n  }\n\n  return n.children;\n}, M.prototype.componentDidUpdate = M.prototype.componentDidMount = function () {\n  var n = this;\n  this.o.forEach(function (t, e) {\n    T(n, e, t);\n  });\n};\n\nvar P = \"undefined\" != typeof Symbol && Symbol.for && Symbol.for(\"react.element\") || 60103,\n    V = /^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,\n    j = \"undefined\" != typeof document,\n    z = function z(n) {\n  return (\"undefined\" != typeof Symbol && \"symbol\" == typeof Symbol() ? /fil|che|rad/i : /fil|che|ra/i).test(n);\n};\n\nfunction B(n, t, e) {\n  return null == t.__k && (t.textContent = \"\"), p(n, t), \"function\" == typeof e && e(), n ? n.__c : null;\n}\n\nfunction $(n, t, e) {\n  return m(n, t), \"function\" == typeof e && e(), n ? n.__c : null;\n}\n\na.prototype.isReactComponent = {}, [\"componentWillMount\", \"componentWillReceiveProps\", \"componentWillUpdate\"].forEach(function (n) {\n  Object.defineProperty(a.prototype, n, {\n    configurable: !0,\n    get: function get() {\n      return this[\"UNSAFE_\" + n];\n    },\n    set: function set(t) {\n      Object.defineProperty(this, n, {\n        configurable: !0,\n        writable: !0,\n        value: t\n      });\n    }\n  });\n});\nvar H = h.event;\n\nfunction Z() {}\n\nfunction Y() {\n  return this.cancelBubble;\n}\n\nfunction q() {\n  return this.defaultPrevented;\n}\n\nh.event = function (n) {\n  return H && (n = H(n)), n.persist = Z, n.isPropagationStopped = Y, n.isDefaultPrevented = q, n.nativeEvent = n;\n};\n\nvar G,\n    J = {\n  configurable: !0,\n  get: function get() {\n    return this.class;\n  }\n},\n    K = h.vnode;\n\nh.vnode = function (n) {\n  var t = n.type,\n      e = n.props,\n      r = e;\n\n  if (\"string\" == typeof t) {\n    var u = -1 === t.indexOf(\"-\");\n\n    for (var o in r = {}, e) {\n      var i = e[o];\n      j && \"children\" === o && \"noscript\" === t || \"value\" === o && \"defaultValue\" in e && null == i || (\"defaultValue\" === o && \"value\" in e && null == e.value ? o = \"value\" : \"download\" === o && !0 === i ? i = \"\" : /ondoubleclick/i.test(o) ? o = \"ondblclick\" : /^onchange(textarea|input)/i.test(o + t) && !z(e.type) ? o = \"oninput\" : /^onfocus$/i.test(o) ? o = \"onfocusin\" : /^onblur$/i.test(o) ? o = \"onfocusout\" : /^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o) ? o = o.toLowerCase() : u && V.test(o) ? o = o.replace(/[A-Z0-9]/, \"-$&\").toLowerCase() : null === i && (i = void 0), /^oninput/i.test(o) && (o = o.toLowerCase(), r[o] && (o = \"oninputCapture\")), r[o] = i);\n    }\n\n    \"select\" == t && r.multiple && Array.isArray(r.value) && (r.value = d(e.children).forEach(function (n) {\n      n.props.selected = -1 != r.value.indexOf(n.props.value);\n    })), \"select\" == t && null != r.defaultValue && (r.value = d(e.children).forEach(function (n) {\n      n.props.selected = r.multiple ? -1 != r.defaultValue.indexOf(n.props.value) : r.defaultValue == n.props.value;\n    })), n.props = r, e.class != e.className && (J.enumerable = \"className\" in e, null != e.className && (r.class = e.className), Object.defineProperty(r, \"className\", J));\n  }\n\n  n.$$typeof = P, K && K(n);\n};\n\nvar Q = h.__r;\n\nh.__r = function (n) {\n  Q && Q(n), G = n.__c;\n};\n\nvar X = {\n  ReactCurrentDispatcher: {\n    current: {\n      readContext: function readContext(n) {\n        return G.__n[n.__c].props.value;\n      }\n    }\n  }\n},\n    nn = \"17.0.2\";\n\nfunction tn(n) {\n  return s.bind(null, n);\n}\n\nfunction en(n) {\n  return !!n && n.$$typeof === P;\n}\n\nfunction rn(n) {\n  return en(n) ? y.apply(null, arguments) : n;\n}\n\nfunction un(n) {\n  return !!n.__k && (p(null, n), !0);\n}\n\nfunction on(n) {\n  return n && (n.base || 1 === n.nodeType && n) || null;\n}\n\nvar ln = function ln(n, t) {\n  return n(t);\n},\n    fn = function fn(n, t) {\n  return n(t);\n},\n    cn = v;\n\nexport default {\n  useState: n,\n  useReducer: t,\n  useEffect: e,\n  useLayoutEffect: r,\n  useRef: u,\n  useImperativeHandle: o,\n  useMemo: i,\n  useCallback: l,\n  useContext: f,\n  useDebugValue: c,\n  version: \"17.0.2\",\n  Children: k,\n  render: B,\n  hydrate: $,\n  unmountComponentAtNode: un,\n  createPortal: W,\n  createElement: s,\n  createContext: _,\n  createFactory: tn,\n  cloneElement: rn,\n  createRef: b,\n  Fragment: v,\n  isValidElement: en,\n  findDOMNode: on,\n  Component: a,\n  PureComponent: E,\n  memo: g,\n  forwardRef: x,\n  flushSync: fn,\n  unstable_batchedUpdates: ln,\n  StrictMode: v,\n  Suspense: L,\n  SuspenseList: M,\n  lazy: F,\n  __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: X\n};\nexport { nn as version, k as Children, B as render, $ as hydrate, un as unmountComponentAtNode, W as createPortal, tn as createFactory, rn as cloneElement, en as isValidElement, on as findDOMNode, E as PureComponent, g as memo, x as forwardRef, fn as flushSync, ln as unstable_batchedUpdates, cn as StrictMode, L as Suspense, M as SuspenseList, F as lazy, X as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED };","import \"core-js/modules/esnext.global-this.js\";\nimport { __extends } from 'tslib';\nimport * as preact from 'preact';\nimport * as preactCompat from 'preact/compat';\nvar globalObj = typeof globalThis !== 'undefined' ? globalThis : window; // // TODO: streamline when killing IE11 support\n\nif (globalObj.FullCalendarVDom) {\n  console.warn('FullCalendar VDOM already loaded');\n} else {\n  globalObj.FullCalendarVDom = {\n    Component: preact.Component,\n    createElement: preact.createElement,\n    render: preact.render,\n    createRef: preact.createRef,\n    Fragment: preact.Fragment,\n    createContext: createContext,\n    createPortal: preactCompat.createPortal,\n    flushSync: flushSync,\n    unmountComponentAtNode: unmountComponentAtNode\n  };\n} // HACKS...\n// TODO: lock version\n// TODO: link gh issues\n\n\nfunction flushSync(runBeforeFlush) {\n  runBeforeFlush();\n  var oldDebounceRendering = preact.options.debounceRendering; // orig\n\n  var callbackQ = [];\n\n  function execCallbackSync(callback) {\n    callbackQ.push(callback);\n  }\n\n  preact.options.debounceRendering = execCallbackSync;\n  preact.render(preact.createElement(FakeComponent, {}), document.createElement('div'));\n\n  while (callbackQ.length) {\n    callbackQ.shift()();\n  }\n\n  preact.options.debounceRendering = oldDebounceRendering;\n}\n\nvar FakeComponent =\n/** @class */\nfunction (_super) {\n  __extends(FakeComponent, _super);\n\n  function FakeComponent() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  FakeComponent.prototype.render = function () {\n    return preact.createElement('div', {});\n  };\n\n  FakeComponent.prototype.componentDidMount = function () {\n    this.setState({});\n  };\n\n  return FakeComponent;\n}(preact.Component);\n\nfunction createContext(defaultValue) {\n  var ContextType = preact.createContext(defaultValue);\n  var origProvider = ContextType.Provider;\n\n  ContextType.Provider = function () {\n    var _this = this;\n\n    var isNew = !this.getChildContext;\n    var children = origProvider.apply(this, arguments); // eslint-disable-line prefer-rest-params\n\n    if (isNew) {\n      var subs_1 = [];\n\n      this.shouldComponentUpdate = function (_props) {\n        if (_this.props.value !== _props.value) {\n          subs_1.forEach(function (c) {\n            c.context = _props.value;\n            c.forceUpdate();\n          });\n        }\n      };\n\n      this.sub = function (c) {\n        subs_1.push(c);\n        var old = c.componentWillUnmount;\n\n        c.componentWillUnmount = function () {\n          subs_1.splice(subs_1.indexOf(c), 1);\n          old && old.call(c);\n        };\n      };\n    }\n\n    return children;\n  };\n\n  return ContextType;\n}\n\nfunction unmountComponentAtNode(node) {\n  preact.render(null, node);\n}","/*!\nFullCalendar v5.10.2\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './vdom.js';\nimport { __extends, __assign } from 'tslib';\nimport { flushSync, render, createElement, CalendarRoot, CustomContentRenderContext, CalendarContent, unmountComponentAtNode, DelayedRunner, CalendarDataManager, isArraysEqual, applyStyleProp, CalendarApi } from '@fullcalendar/common';\nexport * from '@fullcalendar/common';\n\nvar Calendar =\n/** @class */\nfunction (_super) {\n  __extends(Calendar, _super);\n\n  function Calendar(el, optionOverrides) {\n    if (optionOverrides === void 0) {\n      optionOverrides = {};\n    }\n\n    var _this = _super.call(this) || this;\n\n    _this.isRendering = false;\n    _this.isRendered = false;\n    _this.currentClassNames = [];\n    _this.customContentRenderId = 0; // will affect custom generated classNames?\n\n    _this.handleAction = function (action) {\n      // actions we know we want to render immediately\n      switch (action.type) {\n        case 'SET_EVENT_DRAG':\n        case 'SET_EVENT_RESIZE':\n          _this.renderRunner.tryDrain();\n\n      }\n    };\n\n    _this.handleData = function (data) {\n      _this.currentData = data;\n\n      _this.renderRunner.request(data.calendarOptions.rerenderDelay);\n    };\n\n    _this.handleRenderRequest = function () {\n      if (_this.isRendering) {\n        _this.isRendered = true;\n        var currentData_1 = _this.currentData;\n        flushSync(function () {\n          render(createElement(CalendarRoot, {\n            options: currentData_1.calendarOptions,\n            theme: currentData_1.theme,\n            emitter: currentData_1.emitter\n          }, function (classNames, height, isHeightAuto, forPrint) {\n            _this.setClassNames(classNames);\n\n            _this.setHeight(height);\n\n            return createElement(CustomContentRenderContext.Provider, {\n              value: _this.customContentRenderId\n            }, createElement(CalendarContent, __assign({\n              isHeightAuto: isHeightAuto,\n              forPrint: forPrint\n            }, currentData_1)));\n          }), _this.el);\n        });\n      } else if (_this.isRendered) {\n        _this.isRendered = false;\n        unmountComponentAtNode(_this.el);\n\n        _this.setClassNames([]);\n\n        _this.setHeight('');\n      }\n    };\n\n    _this.el = el;\n    _this.renderRunner = new DelayedRunner(_this.handleRenderRequest);\n    new CalendarDataManager({\n      optionOverrides: optionOverrides,\n      calendarApi: _this,\n      onAction: _this.handleAction,\n      onData: _this.handleData\n    });\n    return _this;\n  }\n\n  Object.defineProperty(Calendar.prototype, \"view\", {\n    get: function get() {\n      return this.currentData.viewApi;\n    } // for public API\n    ,\n    enumerable: false,\n    configurable: true\n  });\n\n  Calendar.prototype.render = function () {\n    var wasRendering = this.isRendering;\n\n    if (!wasRendering) {\n      this.isRendering = true;\n    } else {\n      this.customContentRenderId += 1;\n    }\n\n    this.renderRunner.request();\n\n    if (wasRendering) {\n      this.updateSize();\n    }\n  };\n\n  Calendar.prototype.destroy = function () {\n    if (this.isRendering) {\n      this.isRendering = false;\n      this.renderRunner.request();\n    }\n  };\n\n  Calendar.prototype.updateSize = function () {\n    var _this = this;\n\n    flushSync(function () {\n      _super.prototype.updateSize.call(_this);\n    });\n  };\n\n  Calendar.prototype.batchRendering = function (func) {\n    this.renderRunner.pause('batchRendering');\n    func();\n    this.renderRunner.resume('batchRendering');\n  };\n\n  Calendar.prototype.pauseRendering = function () {\n    this.renderRunner.pause('pauseRendering');\n  };\n\n  Calendar.prototype.resumeRendering = function () {\n    this.renderRunner.resume('pauseRendering', true);\n  };\n\n  Calendar.prototype.resetOptions = function (optionOverrides, append) {\n    this.currentDataManager.resetOptions(optionOverrides, append);\n  };\n\n  Calendar.prototype.setClassNames = function (classNames) {\n    if (!isArraysEqual(classNames, this.currentClassNames)) {\n      var classList = this.el.classList;\n\n      for (var _i = 0, _a = this.currentClassNames; _i < _a.length; _i++) {\n        var className = _a[_i];\n        classList.remove(className);\n      }\n\n      for (var _b = 0, classNames_1 = classNames; _b < classNames_1.length; _b++) {\n        var className = classNames_1[_b];\n        classList.add(className);\n      }\n\n      this.currentClassNames = classNames;\n    }\n  };\n\n  Calendar.prototype.setHeight = function (height) {\n    applyStyleProp(this.el, 'height', height);\n  };\n\n  return Calendar;\n}(CalendarApi);\n\nexport { Calendar };","/*!\nFullCalendar v5.10.2\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\nimport { createRef, getStickyHeaderDates, createElement, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, renderScrollShim, DateComponent, buildNavLinkAttrs, DayCellContent, Fragment, BaseComponent, createFormatter, StandardEvent, buildSegTimeText, EventRoot, getSegAnchorAttrs, memoize, MoreLinkRoot, getSegMeta, createAriaClickAttrs, getUniqueDomId, setRef, DayCellRoot, WeekNumberRoot, buildEntryKey, intersectSpans, SegHierarchy, intersectRanges, addDays, RefMap, sortEventSegs, isPropsEqual, buildEventRangeKey, BgEvent, renderFill, PositionCache, NowTimer, Slicer, DayHeader, DaySeriesModel, DayTableModel, addWeeks, diffWeeks, DateProfileGenerator, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign, __spreadArray } from 'tslib';\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\n\nvar TableView =\n/** @class */\nfunction (_super) {\n  __extends(TableView, _super);\n\n  function TableView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.headerElRef = createRef();\n    return _this;\n  }\n\n  TableView.prototype.renderSimpleLayout = function (headerRowContent, bodyContent) {\n    var _a = this,\n        props = _a.props,\n        context = _a.context;\n\n    var sections = [];\n    var stickyHeaderDates = getStickyHeaderDates(context.options);\n\n    if (headerRowContent) {\n      sections.push({\n        type: 'header',\n        key: 'header',\n        isSticky: stickyHeaderDates,\n        chunk: {\n          elRef: this.headerElRef,\n          tableClassName: 'fc-col-header',\n          rowContent: headerRowContent\n        }\n      });\n    }\n\n    sections.push({\n      type: 'body',\n      key: 'body',\n      liquid: true,\n      chunk: {\n        content: bodyContent\n      }\n    });\n    return createElement(ViewRoot, {\n      viewSpec: context.viewSpec\n    }, function (rootElRef, classNames) {\n      return createElement(\"div\", {\n        ref: rootElRef,\n        className: ['fc-daygrid'].concat(classNames).join(' ')\n      }, createElement(SimpleScrollGrid, {\n        liquid: !props.isHeightAuto && !props.forPrint,\n        collapsibleWidth: props.forPrint,\n        cols: []\n        /* TODO: make optional? */\n        ,\n        sections: sections\n      }));\n    });\n  };\n\n  TableView.prototype.renderHScrollLayout = function (headerRowContent, bodyContent, colCnt, dayMinWidth) {\n    var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n\n    if (!ScrollGrid) {\n      throw new Error('No ScrollGrid implementation');\n    }\n\n    var _a = this,\n        props = _a.props,\n        context = _a.context;\n\n    var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n    var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n    var sections = [];\n\n    if (headerRowContent) {\n      sections.push({\n        type: 'header',\n        key: 'header',\n        isSticky: stickyHeaderDates,\n        chunks: [{\n          key: 'main',\n          elRef: this.headerElRef,\n          tableClassName: 'fc-col-header',\n          rowContent: headerRowContent\n        }]\n      });\n    }\n\n    sections.push({\n      type: 'body',\n      key: 'body',\n      liquid: true,\n      chunks: [{\n        key: 'main',\n        content: bodyContent\n      }]\n    });\n\n    if (stickyFooterScrollbar) {\n      sections.push({\n        type: 'footer',\n        key: 'footer',\n        isSticky: true,\n        chunks: [{\n          key: 'main',\n          content: renderScrollShim\n        }]\n      });\n    }\n\n    return createElement(ViewRoot, {\n      viewSpec: context.viewSpec\n    }, function (rootElRef, classNames) {\n      return createElement(\"div\", {\n        ref: rootElRef,\n        className: ['fc-daygrid'].concat(classNames).join(' ')\n      }, createElement(ScrollGrid, {\n        liquid: !props.isHeightAuto && !props.forPrint,\n        collapsibleWidth: props.forPrint,\n        colGroups: [{\n          cols: [{\n            span: colCnt,\n            minWidth: dayMinWidth\n          }]\n        }],\n        sections: sections\n      }));\n    });\n  };\n\n  return TableView;\n}(DateComponent);\n\nfunction splitSegsByRow(segs, rowCnt) {\n  var byRow = [];\n\n  for (var i = 0; i < rowCnt; i += 1) {\n    byRow[i] = [];\n  }\n\n  for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n    var seg = segs_1[_i];\n    byRow[seg.row].push(seg);\n  }\n\n  return byRow;\n}\n\nfunction splitSegsByFirstCol(segs, colCnt) {\n  var byCol = [];\n\n  for (var i = 0; i < colCnt; i += 1) {\n    byCol[i] = [];\n  }\n\n  for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n    var seg = segs_2[_i];\n    byCol[seg.firstCol].push(seg);\n  }\n\n  return byCol;\n}\n\nfunction splitInteractionByRow(ui, rowCnt) {\n  var byRow = [];\n\n  if (!ui) {\n    for (var i = 0; i < rowCnt; i += 1) {\n      byRow[i] = null;\n    }\n  } else {\n    for (var i = 0; i < rowCnt; i += 1) {\n      byRow[i] = {\n        affectedInstances: ui.affectedInstances,\n        isEvent: ui.isEvent,\n        segs: []\n      };\n    }\n\n    for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n      var seg = _a[_i];\n      byRow[seg.row].segs.push(seg);\n    }\n  }\n\n  return byRow;\n}\n\nvar TableCellTop =\n/** @class */\nfunction (_super) {\n  __extends(TableCellTop, _super);\n\n  function TableCellTop() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TableCellTop.prototype.render = function () {\n    var props = this.props;\n    var navLinkAttrs = buildNavLinkAttrs(this.context, props.date);\n    return createElement(DayCellContent, {\n      date: props.date,\n      dateProfile: props.dateProfile,\n      todayRange: props.todayRange,\n      showDayNumber: props.showDayNumber,\n      extraHookProps: props.extraHookProps,\n      defaultContent: renderTopInner\n    }, function (innerElRef, innerContent) {\n      return (innerContent || props.forceDayTop) && createElement(\"div\", {\n        className: \"fc-daygrid-day-top\",\n        ref: innerElRef\n      }, createElement(\"a\", __assign({\n        id: props.dayNumberId,\n        className: \"fc-daygrid-day-number\"\n      }, navLinkAttrs), innerContent || createElement(Fragment, null, \"\\xA0\")));\n    });\n  };\n\n  return TableCellTop;\n}(BaseComponent);\n\nfunction renderTopInner(props) {\n  return props.dayNumberText;\n}\n\nvar DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n  hour: 'numeric',\n  minute: '2-digit',\n  omitZeroMinute: true,\n  meridiem: 'narrow'\n});\n\nfunction hasListItemDisplay(seg) {\n  var display = seg.eventRange.ui.display;\n  return display === 'list-item' || display === 'auto' && !seg.eventRange.def.allDay && seg.firstCol === seg.lastCol && // can't be multi-day\n  seg.isStart && // \"\n  seg.isEnd // \"\n  ;\n}\n\nvar TableBlockEvent =\n/** @class */\nfunction (_super) {\n  __extends(TableBlockEvent, _super);\n\n  function TableBlockEvent() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TableBlockEvent.prototype.render = function () {\n    var props = this.props;\n    return createElement(StandardEvent, __assign({}, props, {\n      extraClassNames: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'],\n      defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT,\n      defaultDisplayEventEnd: props.defaultDisplayEventEnd,\n      disableResizing: !props.seg.eventRange.def.allDay\n    }));\n  };\n\n  return TableBlockEvent;\n}(BaseComponent);\n\nvar TableListItemEvent =\n/** @class */\nfunction (_super) {\n  __extends(TableListItemEvent, _super);\n\n  function TableListItemEvent() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TableListItemEvent.prototype.render = function () {\n    var _a = this,\n        props = _a.props,\n        context = _a.context;\n\n    var timeFormat = context.options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n    var timeText = buildSegTimeText(props.seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n    return createElement(EventRoot, {\n      seg: props.seg,\n      timeText: timeText,\n      defaultContent: renderInnerContent,\n      isDragging: props.isDragging,\n      isResizing: false,\n      isDateSelecting: false,\n      isSelected: props.isSelected,\n      isPast: props.isPast,\n      isFuture: props.isFuture,\n      isToday: props.isToday\n    }, function (rootElRef, classNames, innerElRef, innerContent) {\n      return (// we don't use styles!\n        createElement(\"a\", __assign({\n          className: ['fc-daygrid-event', 'fc-daygrid-dot-event'].concat(classNames).join(' '),\n          ref: rootElRef\n        }, getSegAnchorAttrs(props.seg, context)), innerContent)\n      );\n    });\n  };\n\n  return TableListItemEvent;\n}(BaseComponent);\n\nfunction renderInnerContent(innerProps) {\n  return createElement(Fragment, null, createElement(\"div\", {\n    className: \"fc-daygrid-event-dot\",\n    style: {\n      borderColor: innerProps.borderColor || innerProps.backgroundColor\n    }\n  }), innerProps.timeText && createElement(\"div\", {\n    className: \"fc-event-time\"\n  }, innerProps.timeText), createElement(\"div\", {\n    className: \"fc-event-title\"\n  }, innerProps.event.title || createElement(Fragment, null, \"\\xA0\")));\n}\n\nvar TableCellMoreLink =\n/** @class */\nfunction (_super) {\n  __extends(TableCellMoreLink, _super);\n\n  function TableCellMoreLink() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.compileSegs = memoize(compileSegs);\n    return _this;\n  }\n\n  TableCellMoreLink.prototype.render = function () {\n    var props = this.props;\n\n    var _a = this.compileSegs(props.singlePlacements),\n        allSegs = _a.allSegs,\n        invisibleSegs = _a.invisibleSegs;\n\n    return createElement(MoreLinkRoot, {\n      dateProfile: props.dateProfile,\n      todayRange: props.todayRange,\n      allDayDate: props.allDayDate,\n      moreCnt: props.moreCnt,\n      allSegs: allSegs,\n      hiddenSegs: invisibleSegs,\n      alignmentElRef: props.alignmentElRef,\n      alignGridTop: props.alignGridTop,\n      extraDateSpan: props.extraDateSpan,\n      popoverContent: function popoverContent() {\n        var isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) || (props.eventResize ? props.eventResize.affectedInstances : null) || {};\n        return createElement(Fragment, null, allSegs.map(function (seg) {\n          var instanceId = seg.eventRange.instance.instanceId;\n          return createElement(\"div\", {\n            className: \"fc-daygrid-event-harness\",\n            key: instanceId,\n            style: {\n              visibility: isForcedInvisible[instanceId] ? 'hidden' : ''\n            }\n          }, hasListItemDisplay(seg) ? createElement(TableListItemEvent, __assign({\n            seg: seg,\n            isDragging: false,\n            isSelected: instanceId === props.eventSelection,\n            defaultDisplayEventEnd: false\n          }, getSegMeta(seg, props.todayRange))) : createElement(TableBlockEvent, __assign({\n            seg: seg,\n            isDragging: false,\n            isResizing: false,\n            isDateSelecting: false,\n            isSelected: instanceId === props.eventSelection,\n            defaultDisplayEventEnd: false\n          }, getSegMeta(seg, props.todayRange))));\n        }));\n      }\n    }, function (rootElRef, classNames, innerElRef, innerContent, handleClick, title, isExpanded, popoverId) {\n      return createElement(\"a\", __assign({\n        ref: rootElRef,\n        className: ['fc-daygrid-more-link'].concat(classNames).join(' '),\n        title: title,\n        \"aria-expanded\": isExpanded,\n        \"aria-controls\": popoverId\n      }, createAriaClickAttrs(handleClick)), innerContent);\n    });\n  };\n\n  return TableCellMoreLink;\n}(BaseComponent);\n\nfunction compileSegs(singlePlacements) {\n  var allSegs = [];\n  var invisibleSegs = [];\n\n  for (var _i = 0, singlePlacements_1 = singlePlacements; _i < singlePlacements_1.length; _i++) {\n    var placement = singlePlacements_1[_i];\n    allSegs.push(placement.seg);\n\n    if (!placement.isVisible) {\n      invisibleSegs.push(placement.seg);\n    }\n  }\n\n  return {\n    allSegs: allSegs,\n    invisibleSegs: invisibleSegs\n  };\n}\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({\n  week: 'narrow'\n});\n\nvar TableCell =\n/** @class */\nfunction (_super) {\n  __extends(TableCell, _super);\n\n  function TableCell() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.rootElRef = createRef();\n    _this.state = {\n      dayNumberId: getUniqueDomId()\n    };\n\n    _this.handleRootEl = function (el) {\n      setRef(_this.rootElRef, el);\n      setRef(_this.props.elRef, el);\n    };\n\n    return _this;\n  }\n\n  TableCell.prototype.render = function () {\n    var _a = this,\n        context = _a.context,\n        props = _a.props,\n        state = _a.state,\n        rootElRef = _a.rootElRef;\n\n    var date = props.date,\n        dateProfile = props.dateProfile;\n    var navLinkAttrs = buildNavLinkAttrs(context, date, 'week');\n    return createElement(DayCellRoot, {\n      date: date,\n      dateProfile: dateProfile,\n      todayRange: props.todayRange,\n      showDayNumber: props.showDayNumber,\n      extraHookProps: props.extraHookProps,\n      elRef: this.handleRootEl\n    }, function (dayElRef, dayClassNames, rootDataAttrs, isDisabled) {\n      return createElement(\"td\", __assign({\n        ref: dayElRef,\n        role: \"gridcell\",\n        className: ['fc-daygrid-day'].concat(dayClassNames, props.extraClassNames || []).join(' ')\n      }, rootDataAttrs, props.extraDataAttrs, props.showDayNumber ? {\n        'aria-labelledby': state.dayNumberId\n      } : {}), createElement(\"div\", {\n        className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\",\n        ref: props.innerElRef\n        /* different from hook system! RENAME */\n\n      }, props.showWeekNumber && createElement(WeekNumberRoot, {\n        date: date,\n        defaultFormat: DEFAULT_WEEK_NUM_FORMAT\n      }, function (weekElRef, weekClassNames, innerElRef, innerContent) {\n        return createElement(\"a\", __assign({\n          ref: weekElRef,\n          className: ['fc-daygrid-week-number'].concat(weekClassNames).join(' ')\n        }, navLinkAttrs), innerContent);\n      }), !isDisabled && createElement(TableCellTop, {\n        date: date,\n        dateProfile: dateProfile,\n        showDayNumber: props.showDayNumber,\n        dayNumberId: state.dayNumberId,\n        forceDayTop: props.forceDayTop,\n        todayRange: props.todayRange,\n        extraHookProps: props.extraHookProps\n      }), createElement(\"div\", {\n        className: \"fc-daygrid-day-events\",\n        ref: props.fgContentElRef\n      }, props.fgContent, createElement(\"div\", {\n        className: \"fc-daygrid-day-bottom\",\n        style: {\n          marginTop: props.moreMarginTop\n        }\n      }, createElement(TableCellMoreLink, {\n        allDayDate: date,\n        singlePlacements: props.singlePlacements,\n        moreCnt: props.moreCnt,\n        alignmentElRef: rootElRef,\n        alignGridTop: !props.showDayNumber,\n        extraDateSpan: props.extraDateSpan,\n        dateProfile: props.dateProfile,\n        eventSelection: props.eventSelection,\n        eventDrag: props.eventDrag,\n        eventResize: props.eventResize,\n        todayRange: props.todayRange\n      }))), createElement(\"div\", {\n        className: \"fc-daygrid-day-bg\"\n      }, props.bgContent)));\n    });\n  };\n\n  return TableCell;\n}(DateComponent);\n\nfunction computeFgSegPlacement(segs, // assumed already sorted\ndayMaxEvents, dayMaxEventRows, strictOrder, eventInstanceHeights, maxContentHeight, cells) {\n  var hierarchy = new DayGridSegHierarchy();\n  hierarchy.allowReslicing = true;\n  hierarchy.strictOrder = strictOrder;\n\n  if (dayMaxEvents === true || dayMaxEventRows === true) {\n    hierarchy.maxCoord = maxContentHeight;\n    hierarchy.hiddenConsumes = true;\n  } else if (typeof dayMaxEvents === 'number') {\n    hierarchy.maxStackCnt = dayMaxEvents;\n  } else if (typeof dayMaxEventRows === 'number') {\n    hierarchy.maxStackCnt = dayMaxEventRows;\n    hierarchy.hiddenConsumes = true;\n  } // create segInputs only for segs with known heights\n\n\n  var segInputs = [];\n  var unknownHeightSegs = [];\n\n  for (var i = 0; i < segs.length; i += 1) {\n    var seg = segs[i];\n    var instanceId = seg.eventRange.instance.instanceId;\n    var eventHeight = eventInstanceHeights[instanceId];\n\n    if (eventHeight != null) {\n      segInputs.push({\n        index: i,\n        thickness: eventHeight,\n        span: {\n          start: seg.firstCol,\n          end: seg.lastCol + 1\n        }\n      });\n    } else {\n      unknownHeightSegs.push(seg);\n    }\n  }\n\n  var hiddenEntries = hierarchy.addSegs(segInputs);\n  var segRects = hierarchy.toRects();\n\n  var _a = placeRects(segRects, segs, cells),\n      singleColPlacements = _a.singleColPlacements,\n      multiColPlacements = _a.multiColPlacements,\n      leftoverMargins = _a.leftoverMargins;\n\n  var moreCnts = [];\n  var moreMarginTops = []; // add segs with unknown heights\n\n  for (var _i = 0, unknownHeightSegs_1 = unknownHeightSegs; _i < unknownHeightSegs_1.length; _i++) {\n    var seg = unknownHeightSegs_1[_i];\n    multiColPlacements[seg.firstCol].push({\n      seg: seg,\n      isVisible: false,\n      isAbsolute: true,\n      absoluteTop: 0,\n      marginTop: 0\n    });\n\n    for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n      singleColPlacements[col].push({\n        seg: resliceSeg(seg, col, col + 1, cells),\n        isVisible: false,\n        isAbsolute: false,\n        absoluteTop: 0,\n        marginTop: 0\n      });\n    }\n  } // add the hidden entries\n\n\n  for (var col = 0; col < cells.length; col += 1) {\n    moreCnts.push(0);\n  }\n\n  for (var _b = 0, hiddenEntries_1 = hiddenEntries; _b < hiddenEntries_1.length; _b++) {\n    var hiddenEntry = hiddenEntries_1[_b];\n    var seg = segs[hiddenEntry.index];\n    var hiddenSpan = hiddenEntry.span;\n    multiColPlacements[hiddenSpan.start].push({\n      seg: resliceSeg(seg, hiddenSpan.start, hiddenSpan.end, cells),\n      isVisible: false,\n      isAbsolute: true,\n      absoluteTop: 0,\n      marginTop: 0\n    });\n\n    for (var col = hiddenSpan.start; col < hiddenSpan.end; col += 1) {\n      moreCnts[col] += 1;\n      singleColPlacements[col].push({\n        seg: resliceSeg(seg, col, col + 1, cells),\n        isVisible: false,\n        isAbsolute: false,\n        absoluteTop: 0,\n        marginTop: 0\n      });\n    }\n  } // deal with leftover margins\n\n\n  for (var col = 0; col < cells.length; col += 1) {\n    moreMarginTops.push(leftoverMargins[col]);\n  }\n\n  return {\n    singleColPlacements: singleColPlacements,\n    multiColPlacements: multiColPlacements,\n    moreCnts: moreCnts,\n    moreMarginTops: moreMarginTops\n  };\n} // rects ordered by top coord, then left\n\n\nfunction placeRects(allRects, segs, cells) {\n  var rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\n  var singleColPlacements = [];\n  var multiColPlacements = [];\n  var leftoverMargins = [];\n\n  for (var col = 0; col < cells.length; col += 1) {\n    var rects = rectsByEachCol[col]; // compute all static segs in singlePlacements\n\n    var singlePlacements = [];\n    var currentHeight = 0;\n    var currentMarginTop = 0;\n\n    for (var _i = 0, rects_1 = rects; _i < rects_1.length; _i++) {\n      var rect = rects_1[_i];\n      var seg = segs[rect.index];\n      singlePlacements.push({\n        seg: resliceSeg(seg, col, col + 1, cells),\n        isVisible: true,\n        isAbsolute: false,\n        absoluteTop: rect.levelCoord,\n        marginTop: rect.levelCoord - currentHeight\n      });\n      currentHeight = rect.levelCoord + rect.thickness;\n    } // compute mixed static/absolute segs in multiPlacements\n\n\n    var multiPlacements = [];\n    currentHeight = 0;\n    currentMarginTop = 0;\n\n    for (var _a = 0, rects_2 = rects; _a < rects_2.length; _a++) {\n      var rect = rects_2[_a];\n      var seg = segs[rect.index];\n      var isAbsolute = rect.span.end - rect.span.start > 1; // multi-column?\n\n      var isFirstCol = rect.span.start === col;\n      currentMarginTop += rect.levelCoord - currentHeight; // amount of space since bottom of previous seg\n\n      currentHeight = rect.levelCoord + rect.thickness; // height will now be bottom of current seg\n\n      if (isAbsolute) {\n        currentMarginTop += rect.thickness;\n\n        if (isFirstCol) {\n          multiPlacements.push({\n            seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n            isVisible: true,\n            isAbsolute: true,\n            absoluteTop: rect.levelCoord,\n            marginTop: 0\n          });\n        }\n      } else if (isFirstCol) {\n        multiPlacements.push({\n          seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n          isVisible: true,\n          isAbsolute: false,\n          absoluteTop: rect.levelCoord,\n          marginTop: currentMarginTop // claim the margin\n\n        });\n        currentMarginTop = 0;\n      }\n    }\n\n    singleColPlacements.push(singlePlacements);\n    multiColPlacements.push(multiPlacements);\n    leftoverMargins.push(currentMarginTop);\n  }\n\n  return {\n    singleColPlacements: singleColPlacements,\n    multiColPlacements: multiColPlacements,\n    leftoverMargins: leftoverMargins\n  };\n}\n\nfunction groupRectsByEachCol(rects, colCnt) {\n  var rectsByEachCol = [];\n\n  for (var col = 0; col < colCnt; col += 1) {\n    rectsByEachCol.push([]);\n  }\n\n  for (var _i = 0, rects_3 = rects; _i < rects_3.length; _i++) {\n    var rect = rects_3[_i];\n\n    for (var col = rect.span.start; col < rect.span.end; col += 1) {\n      rectsByEachCol[col].push(rect);\n    }\n  }\n\n  return rectsByEachCol;\n}\n\nfunction resliceSeg(seg, spanStart, spanEnd, cells) {\n  if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {\n    return seg;\n  }\n\n  var eventRange = seg.eventRange;\n  var origRange = eventRange.range;\n  var slicedRange = intersectRanges(origRange, {\n    start: cells[spanStart].date,\n    end: addDays(cells[spanEnd - 1].date, 1)\n  });\n  return __assign(__assign({}, seg), {\n    firstCol: spanStart,\n    lastCol: spanEnd - 1,\n    eventRange: {\n      def: eventRange.def,\n      ui: __assign(__assign({}, eventRange.ui), {\n        durationEditable: false\n      }),\n      instance: eventRange.instance,\n      range: slicedRange\n    },\n    isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(),\n    isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf()\n  });\n}\n\nvar DayGridSegHierarchy =\n/** @class */\nfunction (_super) {\n  __extends(DayGridSegHierarchy, _super);\n\n  function DayGridSegHierarchy() {\n    var _this = _super !== null && _super.apply(this, arguments) || this; // config\n\n\n    _this.hiddenConsumes = false; // allows us to keep hidden entries in the hierarchy so they take up space\n\n    _this.forceHidden = {};\n    return _this;\n  }\n\n  DayGridSegHierarchy.prototype.addSegs = function (segInputs) {\n    var _this = this;\n\n    var hiddenSegs = _super.prototype.addSegs.call(this, segInputs);\n\n    var entriesByLevel = this.entriesByLevel;\n\n    var excludeHidden = function excludeHidden(entry) {\n      return !_this.forceHidden[buildEntryKey(entry)];\n    }; // remove the forced-hidden segs\n\n\n    for (var level = 0; level < entriesByLevel.length; level += 1) {\n      entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);\n    }\n\n    return hiddenSegs;\n  };\n\n  DayGridSegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n    var _a = this,\n        entriesByLevel = _a.entriesByLevel,\n        forceHidden = _a.forceHidden;\n\n    var touchingEntry = insertion.touchingEntry,\n        touchingLevel = insertion.touchingLevel,\n        touchingLateral = insertion.touchingLateral;\n\n    if (this.hiddenConsumes && touchingEntry) {\n      var touchingEntryId = buildEntryKey(touchingEntry); // if not already hidden\n\n      if (!forceHidden[touchingEntryId]) {\n        if (this.allowReslicing) {\n          var placeholderEntry = __assign(__assign({}, touchingEntry), {\n            span: intersectSpans(touchingEntry.span, entry.span)\n          });\n\n          var placeholderEntryId = buildEntryKey(placeholderEntry);\n          forceHidden[placeholderEntryId] = true;\n          entriesByLevel[touchingLevel][touchingLateral] = placeholderEntry; // replace touchingEntry with our placeholder\n\n          this.splitEntry(touchingEntry, entry, hiddenEntries); // split up the touchingEntry, reinsert it\n        } else {\n          forceHidden[touchingEntryId] = true;\n          hiddenEntries.push(touchingEntry);\n        }\n      }\n    }\n\n    return _super.prototype.handleInvalidInsertion.call(this, insertion, entry, hiddenEntries);\n  };\n\n  return DayGridSegHierarchy;\n}(SegHierarchy);\n\nvar TableRow =\n/** @class */\nfunction (_super) {\n  __extends(TableRow, _super);\n\n  function TableRow() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.cellElRefs = new RefMap(); // the <td>\n\n    _this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n\n    _this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n\n    _this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n\n    _this.rootElRef = createRef();\n    _this.state = {\n      framePositions: null,\n      maxContentHeight: null,\n      eventInstanceHeights: {}\n    };\n    return _this;\n  }\n\n  TableRow.prototype.render = function () {\n    var _this = this;\n\n    var _a = this,\n        props = _a.props,\n        state = _a.state,\n        context = _a.context;\n\n    var options = context.options;\n    var colCnt = props.cells.length;\n    var businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n    var bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n    var highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n    var mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n\n    var _b = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.eventInstanceHeights, state.maxContentHeight, props.cells),\n        singleColPlacements = _b.singleColPlacements,\n        multiColPlacements = _b.multiColPlacements,\n        moreCnts = _b.moreCnts,\n        moreMarginTops = _b.moreMarginTops;\n\n    var isForcedInvisible = // TODO: messy way to compute this\n    props.eventDrag && props.eventDrag.affectedInstances || props.eventResize && props.eventResize.affectedInstances || {};\n    return createElement(\"tr\", {\n      ref: this.rootElRef,\n      role: \"row\"\n    }, props.renderIntro && props.renderIntro(), props.cells.map(function (cell, col) {\n      var normalFgNodes = _this.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);\n\n      var mirrorFgNodes = _this.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n\n      return createElement(TableCell, {\n        key: cell.key,\n        elRef: _this.cellElRefs.createRef(cell.key),\n        innerElRef: _this.frameElRefs.createRef(cell.key)\n        /* FF <td> problem, but okay to use for left/right. TODO: rename prop */\n        ,\n        dateProfile: props.dateProfile,\n        date: cell.date,\n        showDayNumber: props.showDayNumbers,\n        showWeekNumber: props.showWeekNumbers && col === 0,\n        forceDayTop: props.showWeekNumbers\n        /* even displaying weeknum for row, not necessarily day */\n        ,\n        todayRange: props.todayRange,\n        eventSelection: props.eventSelection,\n        eventDrag: props.eventDrag,\n        eventResize: props.eventResize,\n        extraHookProps: cell.extraHookProps,\n        extraDataAttrs: cell.extraDataAttrs,\n        extraClassNames: cell.extraClassNames,\n        extraDateSpan: cell.extraDateSpan,\n        moreCnt: moreCnts[col],\n        moreMarginTop: moreMarginTops[col],\n        singlePlacements: singleColPlacements[col],\n        fgContentElRef: _this.fgElRefs.createRef(cell.key),\n        fgContent: // Fragment scopes the keys\n        createElement(Fragment, null, createElement(Fragment, null, normalFgNodes), createElement(Fragment, null, mirrorFgNodes)),\n        bgContent: // Fragment scopes the keys\n        createElement(Fragment, null, _this.renderFillSegs(highlightSegsByCol[col], 'highlight'), _this.renderFillSegs(businessHoursByCol[col], 'non-business'), _this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))\n      });\n    }));\n  };\n\n  TableRow.prototype.componentDidMount = function () {\n    this.updateSizing(true);\n  };\n\n  TableRow.prototype.componentDidUpdate = function (prevProps, prevState) {\n    var currentProps = this.props;\n    this.updateSizing(!isPropsEqual(prevProps, currentProps));\n  };\n\n  TableRow.prototype.getHighlightSegs = function () {\n    var props = this.props;\n\n    if (props.eventDrag && props.eventDrag.segs.length) {\n      // messy check\n      return props.eventDrag.segs;\n    }\n\n    if (props.eventResize && props.eventResize.segs.length) {\n      // messy check\n      return props.eventResize.segs;\n    }\n\n    return props.dateSelectionSegs;\n  };\n\n  TableRow.prototype.getMirrorSegs = function () {\n    var props = this.props;\n\n    if (props.eventResize && props.eventResize.segs.length) {\n      // messy check\n      return props.eventResize.segs;\n    }\n\n    return [];\n  };\n\n  TableRow.prototype.renderFgSegs = function (col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {\n    var context = this.context;\n    var eventSelection = this.props.eventSelection;\n    var framePositions = this.state.framePositions;\n    var defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n\n    var isMirror = isDragging || isResizing || isDateSelecting;\n    var nodes = [];\n\n    if (framePositions) {\n      for (var _i = 0, segPlacements_1 = segPlacements; _i < segPlacements_1.length; _i++) {\n        var placement = segPlacements_1[_i];\n        var seg = placement.seg;\n        var instanceId = seg.eventRange.instance.instanceId;\n        var key = instanceId + ':' + col;\n        var isVisible = placement.isVisible && !isForcedInvisible[instanceId];\n        var isAbsolute = placement.isAbsolute;\n        var left = '';\n        var right = '';\n\n        if (isAbsolute) {\n          if (context.isRtl) {\n            right = 0;\n            left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n          } else {\n            left = 0;\n            right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n          }\n        }\n        /*\n        known bug: events that are force to be list-item but span multiple days still take up space in later columns\n        todo: in print view, for multi-day events, don't display title within non-start/end segs\n        */\n\n\n        nodes.push(createElement(\"div\", {\n          className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''),\n          key: key,\n          ref: isMirror ? null : this.segHarnessRefs.createRef(key),\n          style: {\n            visibility: isVisible ? '' : 'hidden',\n            marginTop: isAbsolute ? '' : placement.marginTop,\n            top: isAbsolute ? placement.absoluteTop : '',\n            left: left,\n            right: right\n          }\n        }, hasListItemDisplay(seg) ? createElement(TableListItemEvent, __assign({\n          seg: seg,\n          isDragging: isDragging,\n          isSelected: instanceId === eventSelection,\n          defaultDisplayEventEnd: defaultDisplayEventEnd\n        }, getSegMeta(seg, todayRange))) : createElement(TableBlockEvent, __assign({\n          seg: seg,\n          isDragging: isDragging,\n          isResizing: isResizing,\n          isDateSelecting: isDateSelecting,\n          isSelected: instanceId === eventSelection,\n          defaultDisplayEventEnd: defaultDisplayEventEnd\n        }, getSegMeta(seg, todayRange)))));\n      }\n    }\n\n    return nodes;\n  };\n\n  TableRow.prototype.renderFillSegs = function (segs, fillType) {\n    var isRtl = this.context.isRtl;\n    var todayRange = this.props.todayRange;\n    var framePositions = this.state.framePositions;\n    var nodes = [];\n\n    if (framePositions) {\n      for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        var leftRightCss = isRtl ? {\n          right: 0,\n          left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol]\n        } : {\n          left: 0,\n          right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol]\n        };\n        nodes.push(createElement(\"div\", {\n          key: buildEventRangeKey(seg.eventRange),\n          className: \"fc-daygrid-bg-harness\",\n          style: leftRightCss\n        }, fillType === 'bg-event' ? createElement(BgEvent, __assign({\n          seg: seg\n        }, getSegMeta(seg, todayRange))) : renderFill(fillType)));\n      }\n    }\n\n    return createElement.apply(void 0, __spreadArray([Fragment, {}], nodes));\n  };\n\n  TableRow.prototype.updateSizing = function (isExternalSizingChange) {\n    var _a = this,\n        props = _a.props,\n        frameElRefs = _a.frameElRefs;\n\n    if (!props.forPrint && props.clientWidth !== null // positioning ready?\n    ) {\n      if (isExternalSizingChange) {\n        var frameEls = props.cells.map(function (cell) {\n          return frameElRefs.currentMap[cell.key];\n        });\n\n        if (frameEls.length) {\n          var originEl = this.rootElRef.current;\n          this.setState({\n            framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n            false)\n          });\n        }\n      }\n\n      var oldInstanceHeights = this.state.eventInstanceHeights;\n      var newInstanceHeights = this.queryEventInstanceHeights();\n      var limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n      this.setState({\n        // HACK to prevent oscillations of events being shown/hidden from max-event-rows\n        // Essentially, once you compute an element's height, never null-out.\n        // TODO: always display all events, as visibility:hidden?\n        eventInstanceHeights: __assign(__assign({}, oldInstanceHeights), newInstanceHeights),\n        maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null\n      });\n    }\n  };\n\n  TableRow.prototype.queryEventInstanceHeights = function () {\n    var segElMap = this.segHarnessRefs.currentMap;\n    var eventInstanceHeights = {}; // get the max height amongst instance segs\n\n    for (var key in segElMap) {\n      var height = Math.round(segElMap[key].getBoundingClientRect().height);\n      var instanceId = key.split(':')[0]; // deconstruct how renderFgSegs makes the key\n\n      eventInstanceHeights[instanceId] = Math.max(eventInstanceHeights[instanceId] || 0, height);\n    }\n\n    return eventInstanceHeights;\n  };\n\n  TableRow.prototype.computeMaxContentHeight = function () {\n    var firstKey = this.props.cells[0].key;\n    var cellEl = this.cellElRefs.currentMap[firstKey];\n    var fcContainerEl = this.fgElRefs.currentMap[firstKey];\n    return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n  };\n\n  TableRow.prototype.getCellEls = function () {\n    var elMap = this.cellElRefs.currentMap;\n    return this.props.cells.map(function (cell) {\n      return elMap[cell.key];\n    });\n  };\n\n  return TableRow;\n}(DateComponent);\n\nTableRow.addStateEquality({\n  eventInstanceHeights: isPropsEqual\n});\n\nfunction buildMirrorPlacements(mirrorSegs, colPlacements) {\n  if (!mirrorSegs.length) {\n    return [];\n  }\n\n  var topsByInstanceId = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\n\n  return mirrorSegs.map(function (seg) {\n    return {\n      seg: seg,\n      isVisible: true,\n      isAbsolute: true,\n      absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],\n      marginTop: 0\n    };\n  });\n}\n\nfunction buildAbsoluteTopHash(colPlacements) {\n  var topsByInstanceId = {};\n\n  for (var _i = 0, colPlacements_1 = colPlacements; _i < colPlacements_1.length; _i++) {\n    var placements = colPlacements_1[_i];\n\n    for (var _a = 0, placements_1 = placements; _a < placements_1.length; _a++) {\n      var placement = placements_1[_a];\n      topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;\n    }\n  }\n\n  return topsByInstanceId;\n}\n\nvar Table =\n/** @class */\nfunction (_super) {\n  __extends(Table, _super);\n\n  function Table() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.splitBusinessHourSegs = memoize(splitSegsByRow);\n    _this.splitBgEventSegs = memoize(splitSegsByRow);\n    _this.splitFgEventSegs = memoize(splitSegsByRow);\n    _this.splitDateSelectionSegs = memoize(splitSegsByRow);\n    _this.splitEventDrag = memoize(splitInteractionByRow);\n    _this.splitEventResize = memoize(splitInteractionByRow);\n    _this.rowRefs = new RefMap();\n\n    _this.handleRootEl = function (rootEl) {\n      _this.rootEl = rootEl;\n\n      if (rootEl) {\n        _this.context.registerInteractiveComponent(_this, {\n          el: rootEl,\n          isHitComboAllowed: _this.props.isHitComboAllowed\n        });\n      } else {\n        _this.context.unregisterInteractiveComponent(_this);\n      }\n    };\n\n    return _this;\n  }\n\n  Table.prototype.render = function () {\n    var _this = this;\n\n    var props = this.props;\n    var dateProfile = props.dateProfile,\n        dayMaxEventRows = props.dayMaxEventRows,\n        dayMaxEvents = props.dayMaxEvents,\n        expandRows = props.expandRows;\n    var rowCnt = props.cells.length;\n    var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n    var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n    var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n    var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n    var eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n    var eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n    var limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true; // if rows can't expand to fill fixed height, can't do balanced-height event limit\n    // TODO: best place to normalize these options?\n\n    if (limitViaBalanced && !expandRows) {\n      limitViaBalanced = false;\n      dayMaxEventRows = null;\n      dayMaxEvents = null;\n    }\n\n    var classNames = ['fc-daygrid-body', limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced', expandRows ? '' : 'fc-daygrid-body-natural' // will height of one row depend on the others?\n    ];\n    return createElement(\"div\", {\n      className: classNames.join(' '),\n      ref: this.handleRootEl,\n      style: {\n        // these props are important to give this wrapper correct dimensions for interactions\n        // TODO: if we set it here, can we avoid giving to inner tables?\n        width: props.clientWidth,\n        minWidth: props.tableMinWidth\n      }\n    }, createElement(NowTimer, {\n      unit: \"day\"\n    }, function (nowDate, todayRange) {\n      return createElement(Fragment, null, createElement(\"table\", {\n        role: \"presentation\",\n        className: \"fc-scrollgrid-sync-table\",\n        style: {\n          width: props.clientWidth,\n          minWidth: props.tableMinWidth,\n          height: expandRows ? props.clientHeight : ''\n        }\n      }, props.colGroupNode, createElement(\"tbody\", {\n        role: \"presentation\"\n      }, props.cells.map(function (cells, row) {\n        return createElement(TableRow, {\n          ref: _this.rowRefs.createRef(row),\n          key: cells.length ? cells[0].date.toISOString()\n          /* best? or put key on cell? or use diff formatter? */\n          : row // in case there are no cells (like when resource view is loading)\n          ,\n          showDayNumbers: rowCnt > 1,\n          showWeekNumbers: props.showWeekNumbers,\n          todayRange: todayRange,\n          dateProfile: dateProfile,\n          cells: cells,\n          renderIntro: props.renderRowIntro,\n          businessHourSegs: businessHourSegsByRow[row],\n          eventSelection: props.eventSelection,\n          bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay)\n          /* hack */\n          ,\n          fgEventSegs: fgEventSegsByRow[row],\n          dateSelectionSegs: dateSelectionSegsByRow[row],\n          eventDrag: eventDragByRow[row],\n          eventResize: eventResizeByRow[row],\n          dayMaxEvents: dayMaxEvents,\n          dayMaxEventRows: dayMaxEventRows,\n          clientWidth: props.clientWidth,\n          clientHeight: props.clientHeight,\n          forPrint: props.forPrint\n        });\n      }))));\n    }));\n  }; // Hit System\n  // ----------------------------------------------------------------------------------------------------\n\n\n  Table.prototype.prepareHits = function () {\n    this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map(function (rowObj) {\n      return rowObj.getCellEls()[0];\n    }), // first cell el in each row. TODO: not optimal\n    false, true);\n    this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n    true, // horizontal\n    false);\n  };\n\n  Table.prototype.queryHit = function (positionLeft, positionTop) {\n    var _a = this,\n        colPositions = _a.colPositions,\n        rowPositions = _a.rowPositions;\n\n    var col = colPositions.leftToIndex(positionLeft);\n    var row = rowPositions.topToIndex(positionTop);\n\n    if (row != null && col != null) {\n      var cell = this.props.cells[row][col];\n      return {\n        dateProfile: this.props.dateProfile,\n        dateSpan: __assign({\n          range: this.getCellRange(row, col),\n          allDay: true\n        }, cell.extraDateSpan),\n        dayEl: this.getCellEl(row, col),\n        rect: {\n          left: colPositions.lefts[col],\n          right: colPositions.rights[col],\n          top: rowPositions.tops[row],\n          bottom: rowPositions.bottoms[row]\n        },\n        layer: 0\n      };\n    }\n\n    return null;\n  };\n\n  Table.prototype.getCellEl = function (row, col) {\n    return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n  };\n\n  Table.prototype.getCellRange = function (row, col) {\n    var start = this.props.cells[row][col].date;\n    var end = addDays(start, 1);\n    return {\n      start: start,\n      end: end\n    };\n  };\n\n  return Table;\n}(DateComponent);\n\nfunction isSegAllDay(seg) {\n  return seg.eventRange.def.allDay;\n}\n\nvar DayTableSlicer =\n/** @class */\nfunction (_super) {\n  __extends(DayTableSlicer, _super);\n\n  function DayTableSlicer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.forceDayIfListItem = true;\n    return _this;\n  }\n\n  DayTableSlicer.prototype.sliceRange = function (dateRange, dayTableModel) {\n    return dayTableModel.sliceRange(dateRange);\n  };\n\n  return DayTableSlicer;\n}(Slicer);\n\nvar DayTable =\n/** @class */\nfunction (_super) {\n  __extends(DayTable, _super);\n\n  function DayTable() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.slicer = new DayTableSlicer();\n    _this.tableRef = createRef();\n    return _this;\n  }\n\n  DayTable.prototype.render = function () {\n    var _a = this,\n        props = _a.props,\n        context = _a.context;\n\n    return createElement(Table, __assign({\n      ref: this.tableRef\n    }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), {\n      dateProfile: props.dateProfile,\n      cells: props.dayTableModel.cells,\n      colGroupNode: props.colGroupNode,\n      tableMinWidth: props.tableMinWidth,\n      renderRowIntro: props.renderRowIntro,\n      dayMaxEvents: props.dayMaxEvents,\n      dayMaxEventRows: props.dayMaxEventRows,\n      showWeekNumbers: props.showWeekNumbers,\n      expandRows: props.expandRows,\n      headerAlignElRef: props.headerAlignElRef,\n      clientWidth: props.clientWidth,\n      clientHeight: props.clientHeight,\n      forPrint: props.forPrint\n    }));\n  };\n\n  return DayTable;\n}(DateComponent);\n\nvar DayTableView =\n/** @class */\nfunction (_super) {\n  __extends(DayTableView, _super);\n\n  function DayTableView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.buildDayTableModel = memoize(buildDayTableModel);\n    _this.headerRef = createRef();\n    _this.tableRef = createRef();\n    return _this;\n  }\n\n  DayTableView.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.context,\n        options = _a.options,\n        dateProfileGenerator = _a.dateProfileGenerator;\n    var props = this.props;\n    var dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n    var headerContent = options.dayHeaders && createElement(DayHeader, {\n      ref: this.headerRef,\n      dateProfile: props.dateProfile,\n      dates: dayTableModel.headerDates,\n      datesRepDistinctDays: dayTableModel.rowCnt === 1\n    });\n\n    var bodyContent = function bodyContent(contentArg) {\n      return createElement(DayTable, {\n        ref: _this.tableRef,\n        dateProfile: props.dateProfile,\n        dayTableModel: dayTableModel,\n        businessHours: props.businessHours,\n        dateSelection: props.dateSelection,\n        eventStore: props.eventStore,\n        eventUiBases: props.eventUiBases,\n        eventSelection: props.eventSelection,\n        eventDrag: props.eventDrag,\n        eventResize: props.eventResize,\n        nextDayThreshold: options.nextDayThreshold,\n        colGroupNode: contentArg.tableColGroupNode,\n        tableMinWidth: contentArg.tableMinWidth,\n        dayMaxEvents: options.dayMaxEvents,\n        dayMaxEventRows: options.dayMaxEventRows,\n        showWeekNumbers: options.weekNumbers,\n        expandRows: !props.isHeightAuto,\n        headerAlignElRef: _this.headerElRef,\n        clientWidth: contentArg.clientWidth,\n        clientHeight: contentArg.clientHeight,\n        forPrint: props.forPrint\n      });\n    };\n\n    return options.dayMinWidth ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth) : this.renderSimpleLayout(headerContent, bodyContent);\n  };\n\n  return DayTableView;\n}(TableView);\n\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n  var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n  return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nvar TableDateProfileGenerator =\n/** @class */\nfunction (_super) {\n  __extends(TableDateProfileGenerator, _super);\n\n  function TableDateProfileGenerator() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  } // Computes the date range that will be rendered.\n\n\n  TableDateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n    var dateEnv = this.props.dateEnv;\n\n    var renderRange = _super.prototype.buildRenderRange.call(this, currentRange, currentRangeUnit, isRangeAllDay);\n\n    var start = renderRange.start;\n    var end = renderRange.end;\n    var endOfWeek; // year and month views should be aligned with weeks. this is already done for week\n\n    if (/^(year|month)$/.test(currentRangeUnit)) {\n      start = dateEnv.startOfWeek(start); // make end-of-week if not already\n\n      endOfWeek = dateEnv.startOfWeek(end);\n\n      if (endOfWeek.valueOf() !== end.valueOf()) {\n        end = addWeeks(endOfWeek, 1);\n      }\n    } // ensure 6 weeks\n\n\n    if (this.props.monthMode && this.props.fixedWeekCount) {\n      var rowCnt = Math.ceil( // could be partial weeks due to hiddenDays\n      diffWeeks(start, end));\n      end = addWeeks(end, 6 - rowCnt);\n    }\n\n    return {\n      start: start,\n      end: end\n    };\n  };\n\n  return TableDateProfileGenerator;\n}(DateProfileGenerator);\n\nvar main = createPlugin({\n  initialView: 'dayGridMonth',\n  views: {\n    dayGrid: {\n      component: DayTableView,\n      dateProfileGeneratorClass: TableDateProfileGenerator\n    },\n    dayGridDay: {\n      type: 'dayGrid',\n      duration: {\n        days: 1\n      }\n    },\n    dayGridWeek: {\n      type: 'dayGrid',\n      duration: {\n        weeks: 1\n      }\n    },\n    dayGridMonth: {\n      type: 'dayGrid',\n      duration: {\n        months: 1\n      },\n      monthMode: true,\n      fixedWeekCount: true\n    }\n  }\n});\nexport default main;\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableView, buildDayTableModel };","/*!\nFullCalendar v5.10.2\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport { config, elementClosest, Emitter, applyStyle, whenTransitionDone, removeElement, ScrollController, ElementScrollController, computeInnerRect, WindowScrollController, getElRoot, preventSelection, preventContextMenu, allowSelection, allowContextMenu, ElementDragging, computeRect, getClippingParents, pointInsideRect, isDateSpansEqual, constrainPoint, intersectRects, getRectCenter, diffPoints, mapHash, rangeContainsRange, interactionSettingsToStore, Interaction, isDateSelectionValid, enableCursor, disableCursor, triggerDateSelect, compareNumbers, getElSeg, getRelevantEvents, EventApi, createEmptyEventStore, applyMutationToEventStore, isInteractionValid, buildEventApis, interactionSettingsStore, startOfDay, diffDates, createDuration, getEventTargetViaRoot, identity, eventTupleToStore, parseDragMeta, elementMatches, refineEventDef, parseEventDef, getDefaultEventEnd, createEventInstance, BASE_OPTION_DEFAULTS, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\nconfig.touchMouseIgnoreWait = 500;\nvar ignoreMouseDepth = 0;\nvar listenerCnt = 0;\nvar isWindowTouchMoveCancelled = false;\n/*\nUses a \"pointer\" abstraction, which monitors UI events for both mouse and touch.\nTracks when the pointer \"drags\" on a certain element, meaning down+move+up.\n\nAlso, tracks if there was touch-scrolling.\nAlso, can prevent touch-scrolling from happening.\nAlso, can fire pointermove events when scrolling happens underneath, even when no real pointer movement.\n\nemits:\n- pointerdown\n- pointermove\n- pointerup\n*/\n\nvar PointerDragging =\n/** @class */\nfunction () {\n  function PointerDragging(containerEl) {\n    var _this = this;\n\n    this.subjectEl = null; // options that can be directly assigned by caller\n\n    this.selector = ''; // will cause subjectEl in all emitted events to be this element\n\n    this.handleSelector = '';\n    this.shouldIgnoreMove = false;\n    this.shouldWatchScroll = true; // for simulating pointermove on scroll\n    // internal states\n\n    this.isDragging = false;\n    this.isTouchDragging = false;\n    this.wasTouchScroll = false; // Mouse\n    // ----------------------------------------------------------------------------------------------------\n\n    this.handleMouseDown = function (ev) {\n      if (!_this.shouldIgnoreMouse() && isPrimaryMouseButton(ev) && _this.tryStart(ev)) {\n        var pev = _this.createEventFromMouse(ev, true);\n\n        _this.emitter.trigger('pointerdown', pev);\n\n        _this.initScrollWatch(pev);\n\n        if (!_this.shouldIgnoreMove) {\n          document.addEventListener('mousemove', _this.handleMouseMove);\n        }\n\n        document.addEventListener('mouseup', _this.handleMouseUp);\n      }\n    };\n\n    this.handleMouseMove = function (ev) {\n      var pev = _this.createEventFromMouse(ev);\n\n      _this.recordCoords(pev);\n\n      _this.emitter.trigger('pointermove', pev);\n    };\n\n    this.handleMouseUp = function (ev) {\n      document.removeEventListener('mousemove', _this.handleMouseMove);\n      document.removeEventListener('mouseup', _this.handleMouseUp);\n\n      _this.emitter.trigger('pointerup', _this.createEventFromMouse(ev));\n\n      _this.cleanup(); // call last so that pointerup has access to props\n\n    }; // Touch\n    // ----------------------------------------------------------------------------------------------------\n\n\n    this.handleTouchStart = function (ev) {\n      if (_this.tryStart(ev)) {\n        _this.isTouchDragging = true;\n\n        var pev = _this.createEventFromTouch(ev, true);\n\n        _this.emitter.trigger('pointerdown', pev);\n\n        _this.initScrollWatch(pev); // unlike mouse, need to attach to target, not document\n        // https://stackoverflow.com/a/45760014\n\n\n        var targetEl = ev.target;\n\n        if (!_this.shouldIgnoreMove) {\n          targetEl.addEventListener('touchmove', _this.handleTouchMove);\n        }\n\n        targetEl.addEventListener('touchend', _this.handleTouchEnd);\n        targetEl.addEventListener('touchcancel', _this.handleTouchEnd); // treat it as a touch end\n        // attach a handler to get called when ANY scroll action happens on the page.\n        // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n        // http://stackoverflow.com/a/32954565/96342\n\n        window.addEventListener('scroll', _this.handleTouchScroll, true);\n      }\n    };\n\n    this.handleTouchMove = function (ev) {\n      var pev = _this.createEventFromTouch(ev);\n\n      _this.recordCoords(pev);\n\n      _this.emitter.trigger('pointermove', pev);\n    };\n\n    this.handleTouchEnd = function (ev) {\n      if (_this.isDragging) {\n        // done to guard against touchend followed by touchcancel\n        var targetEl = ev.target;\n        targetEl.removeEventListener('touchmove', _this.handleTouchMove);\n        targetEl.removeEventListener('touchend', _this.handleTouchEnd);\n        targetEl.removeEventListener('touchcancel', _this.handleTouchEnd);\n        window.removeEventListener('scroll', _this.handleTouchScroll, true); // useCaptured=true\n\n        _this.emitter.trigger('pointerup', _this.createEventFromTouch(ev));\n\n        _this.cleanup(); // call last so that pointerup has access to props\n\n\n        _this.isTouchDragging = false;\n        startIgnoringMouse();\n      }\n    };\n\n    this.handleTouchScroll = function () {\n      _this.wasTouchScroll = true;\n    };\n\n    this.handleScroll = function (ev) {\n      if (!_this.shouldIgnoreMove) {\n        var pageX = window.pageXOffset - _this.prevScrollX + _this.prevPageX;\n        var pageY = window.pageYOffset - _this.prevScrollY + _this.prevPageY;\n\n        _this.emitter.trigger('pointermove', {\n          origEvent: ev,\n          isTouch: _this.isTouchDragging,\n          subjectEl: _this.subjectEl,\n          pageX: pageX,\n          pageY: pageY,\n          deltaX: pageX - _this.origPageX,\n          deltaY: pageY - _this.origPageY\n        });\n      }\n    };\n\n    this.containerEl = containerEl;\n    this.emitter = new Emitter();\n    containerEl.addEventListener('mousedown', this.handleMouseDown);\n    containerEl.addEventListener('touchstart', this.handleTouchStart, {\n      passive: true\n    });\n    listenerCreated();\n  }\n\n  PointerDragging.prototype.destroy = function () {\n    this.containerEl.removeEventListener('mousedown', this.handleMouseDown);\n    this.containerEl.removeEventListener('touchstart', this.handleTouchStart, {\n      passive: true\n    });\n    listenerDestroyed();\n  };\n\n  PointerDragging.prototype.tryStart = function (ev) {\n    var subjectEl = this.querySubjectEl(ev);\n    var downEl = ev.target;\n\n    if (subjectEl && (!this.handleSelector || elementClosest(downEl, this.handleSelector))) {\n      this.subjectEl = subjectEl;\n      this.isDragging = true; // do this first so cancelTouchScroll will work\n\n      this.wasTouchScroll = false;\n      return true;\n    }\n\n    return false;\n  };\n\n  PointerDragging.prototype.cleanup = function () {\n    isWindowTouchMoveCancelled = false;\n    this.isDragging = false;\n    this.subjectEl = null; // keep wasTouchScroll around for later access\n\n    this.destroyScrollWatch();\n  };\n\n  PointerDragging.prototype.querySubjectEl = function (ev) {\n    if (this.selector) {\n      return elementClosest(ev.target, this.selector);\n    }\n\n    return this.containerEl;\n  };\n\n  PointerDragging.prototype.shouldIgnoreMouse = function () {\n    return ignoreMouseDepth || this.isTouchDragging;\n  }; // can be called by user of this class, to cancel touch-based scrolling for the current drag\n\n\n  PointerDragging.prototype.cancelTouchScroll = function () {\n    if (this.isDragging) {\n      isWindowTouchMoveCancelled = true;\n    }\n  }; // Scrolling that simulates pointermoves\n  // ----------------------------------------------------------------------------------------------------\n\n\n  PointerDragging.prototype.initScrollWatch = function (ev) {\n    if (this.shouldWatchScroll) {\n      this.recordCoords(ev);\n      window.addEventListener('scroll', this.handleScroll, true); // useCapture=true\n    }\n  };\n\n  PointerDragging.prototype.recordCoords = function (ev) {\n    if (this.shouldWatchScroll) {\n      this.prevPageX = ev.pageX;\n      this.prevPageY = ev.pageY;\n      this.prevScrollX = window.pageXOffset;\n      this.prevScrollY = window.pageYOffset;\n    }\n  };\n\n  PointerDragging.prototype.destroyScrollWatch = function () {\n    if (this.shouldWatchScroll) {\n      window.removeEventListener('scroll', this.handleScroll, true); // useCaptured=true\n    }\n  }; // Event Normalization\n  // ----------------------------------------------------------------------------------------------------\n\n\n  PointerDragging.prototype.createEventFromMouse = function (ev, isFirst) {\n    var deltaX = 0;\n    var deltaY = 0; // TODO: repeat code\n\n    if (isFirst) {\n      this.origPageX = ev.pageX;\n      this.origPageY = ev.pageY;\n    } else {\n      deltaX = ev.pageX - this.origPageX;\n      deltaY = ev.pageY - this.origPageY;\n    }\n\n    return {\n      origEvent: ev,\n      isTouch: false,\n      subjectEl: this.subjectEl,\n      pageX: ev.pageX,\n      pageY: ev.pageY,\n      deltaX: deltaX,\n      deltaY: deltaY\n    };\n  };\n\n  PointerDragging.prototype.createEventFromTouch = function (ev, isFirst) {\n    var touches = ev.touches;\n    var pageX;\n    var pageY;\n    var deltaX = 0;\n    var deltaY = 0; // if touch coords available, prefer,\n    // because FF would give bad ev.pageX ev.pageY\n\n    if (touches && touches.length) {\n      pageX = touches[0].pageX;\n      pageY = touches[0].pageY;\n    } else {\n      pageX = ev.pageX;\n      pageY = ev.pageY;\n    } // TODO: repeat code\n\n\n    if (isFirst) {\n      this.origPageX = pageX;\n      this.origPageY = pageY;\n    } else {\n      deltaX = pageX - this.origPageX;\n      deltaY = pageY - this.origPageY;\n    }\n\n    return {\n      origEvent: ev,\n      isTouch: true,\n      subjectEl: this.subjectEl,\n      pageX: pageX,\n      pageY: pageY,\n      deltaX: deltaX,\n      deltaY: deltaY\n    };\n  };\n\n  return PointerDragging;\n}(); // Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\n\n\nfunction isPrimaryMouseButton(ev) {\n  return ev.button === 0 && !ev.ctrlKey;\n} // Ignoring fake mouse events generated by touch\n// ----------------------------------------------------------------------------------------------------\n\n\nfunction startIgnoringMouse() {\n  ignoreMouseDepth += 1;\n  setTimeout(function () {\n    ignoreMouseDepth -= 1;\n  }, config.touchMouseIgnoreWait);\n} // We want to attach touchmove as early as possible for Safari\n// ----------------------------------------------------------------------------------------------------\n\n\nfunction listenerCreated() {\n  listenerCnt += 1;\n\n  if (listenerCnt === 1) {\n    window.addEventListener('touchmove', onWindowTouchMove, {\n      passive: false\n    });\n  }\n}\n\nfunction listenerDestroyed() {\n  listenerCnt -= 1;\n\n  if (!listenerCnt) {\n    window.removeEventListener('touchmove', onWindowTouchMove, {\n      passive: false\n    });\n  }\n}\n\nfunction onWindowTouchMove(ev) {\n  if (isWindowTouchMoveCancelled) {\n    ev.preventDefault();\n  }\n}\n/*\nAn effect in which an element follows the movement of a pointer across the screen.\nThe moving element is a clone of some other element.\nMust call start + handleMove + stop.\n*/\n\n\nvar ElementMirror =\n/** @class */\nfunction () {\n  function ElementMirror() {\n    this.isVisible = false; // must be explicitly enabled\n\n    this.sourceEl = null;\n    this.mirrorEl = null;\n    this.sourceElRect = null; // screen coords relative to viewport\n    // options that can be set directly by caller\n\n    this.parentNode = document.body; // HIGHLY SUGGESTED to set this to sidestep ShadowDOM issues\n\n    this.zIndex = 9999;\n    this.revertDuration = 0;\n  }\n\n  ElementMirror.prototype.start = function (sourceEl, pageX, pageY) {\n    this.sourceEl = sourceEl;\n    this.sourceElRect = this.sourceEl.getBoundingClientRect();\n    this.origScreenX = pageX - window.pageXOffset;\n    this.origScreenY = pageY - window.pageYOffset;\n    this.deltaX = 0;\n    this.deltaY = 0;\n    this.updateElPosition();\n  };\n\n  ElementMirror.prototype.handleMove = function (pageX, pageY) {\n    this.deltaX = pageX - window.pageXOffset - this.origScreenX;\n    this.deltaY = pageY - window.pageYOffset - this.origScreenY;\n    this.updateElPosition();\n  }; // can be called before start\n\n\n  ElementMirror.prototype.setIsVisible = function (bool) {\n    if (bool) {\n      if (!this.isVisible) {\n        if (this.mirrorEl) {\n          this.mirrorEl.style.display = '';\n        }\n\n        this.isVisible = bool; // needs to happen before updateElPosition\n\n        this.updateElPosition(); // because was not updating the position while invisible\n      }\n    } else if (this.isVisible) {\n      if (this.mirrorEl) {\n        this.mirrorEl.style.display = 'none';\n      }\n\n      this.isVisible = bool;\n    }\n  }; // always async\n\n\n  ElementMirror.prototype.stop = function (needsRevertAnimation, callback) {\n    var _this = this;\n\n    var done = function done() {\n      _this.cleanup();\n\n      callback();\n    };\n\n    if (needsRevertAnimation && this.mirrorEl && this.isVisible && this.revertDuration && ( // if 0, transition won't work\n    this.deltaX || this.deltaY) // if same coords, transition won't work\n    ) {\n      this.doRevertAnimation(done, this.revertDuration);\n    } else {\n      setTimeout(done, 0);\n    }\n  };\n\n  ElementMirror.prototype.doRevertAnimation = function (callback, revertDuration) {\n    var mirrorEl = this.mirrorEl;\n    var finalSourceElRect = this.sourceEl.getBoundingClientRect(); // because autoscrolling might have happened\n\n    mirrorEl.style.transition = 'top ' + revertDuration + 'ms,' + 'left ' + revertDuration + 'ms';\n    applyStyle(mirrorEl, {\n      left: finalSourceElRect.left,\n      top: finalSourceElRect.top\n    });\n    whenTransitionDone(mirrorEl, function () {\n      mirrorEl.style.transition = '';\n      callback();\n    });\n  };\n\n  ElementMirror.prototype.cleanup = function () {\n    if (this.mirrorEl) {\n      removeElement(this.mirrorEl);\n      this.mirrorEl = null;\n    }\n\n    this.sourceEl = null;\n  };\n\n  ElementMirror.prototype.updateElPosition = function () {\n    if (this.sourceEl && this.isVisible) {\n      applyStyle(this.getMirrorEl(), {\n        left: this.sourceElRect.left + this.deltaX,\n        top: this.sourceElRect.top + this.deltaY\n      });\n    }\n  };\n\n  ElementMirror.prototype.getMirrorEl = function () {\n    var sourceElRect = this.sourceElRect;\n    var mirrorEl = this.mirrorEl;\n\n    if (!mirrorEl) {\n      mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true); // cloneChildren=true\n      // we don't want long taps or any mouse interaction causing selection/menus.\n      // would use preventSelection(), but that prevents selectstart, causing problems.\n\n      mirrorEl.classList.add('fc-unselectable');\n      mirrorEl.classList.add('fc-event-dragging');\n      applyStyle(mirrorEl, {\n        position: 'fixed',\n        zIndex: this.zIndex,\n        visibility: '',\n        boxSizing: 'border-box',\n        width: sourceElRect.right - sourceElRect.left,\n        height: sourceElRect.bottom - sourceElRect.top,\n        right: 'auto',\n        bottom: 'auto',\n        margin: 0\n      });\n      this.parentNode.appendChild(mirrorEl);\n    }\n\n    return mirrorEl;\n  };\n\n  return ElementMirror;\n}();\n/*\nIs a cache for a given element's scroll information (all the info that ScrollController stores)\nin addition the \"client rectangle\" of the element.. the area within the scrollbars.\n\nThe cache can be in one of two modes:\n- doesListening:false - ignores when the container is scrolled by someone else\n- doesListening:true - watch for scrolling and update the cache\n*/\n\n\nvar ScrollGeomCache =\n/** @class */\nfunction (_super) {\n  __extends(ScrollGeomCache, _super);\n\n  function ScrollGeomCache(scrollController, doesListening) {\n    var _this = _super.call(this) || this;\n\n    _this.handleScroll = function () {\n      _this.scrollTop = _this.scrollController.getScrollTop();\n      _this.scrollLeft = _this.scrollController.getScrollLeft();\n\n      _this.handleScrollChange();\n    };\n\n    _this.scrollController = scrollController;\n    _this.doesListening = doesListening;\n    _this.scrollTop = _this.origScrollTop = scrollController.getScrollTop();\n    _this.scrollLeft = _this.origScrollLeft = scrollController.getScrollLeft();\n    _this.scrollWidth = scrollController.getScrollWidth();\n    _this.scrollHeight = scrollController.getScrollHeight();\n    _this.clientWidth = scrollController.getClientWidth();\n    _this.clientHeight = scrollController.getClientHeight();\n    _this.clientRect = _this.computeClientRect(); // do last in case it needs cached values\n\n    if (_this.doesListening) {\n      _this.getEventTarget().addEventListener('scroll', _this.handleScroll);\n    }\n\n    return _this;\n  }\n\n  ScrollGeomCache.prototype.destroy = function () {\n    if (this.doesListening) {\n      this.getEventTarget().removeEventListener('scroll', this.handleScroll);\n    }\n  };\n\n  ScrollGeomCache.prototype.getScrollTop = function () {\n    return this.scrollTop;\n  };\n\n  ScrollGeomCache.prototype.getScrollLeft = function () {\n    return this.scrollLeft;\n  };\n\n  ScrollGeomCache.prototype.setScrollTop = function (top) {\n    this.scrollController.setScrollTop(top);\n\n    if (!this.doesListening) {\n      // we are not relying on the element to normalize out-of-bounds scroll values\n      // so we need to sanitize ourselves\n      this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()), 0);\n      this.handleScrollChange();\n    }\n  };\n\n  ScrollGeomCache.prototype.setScrollLeft = function (top) {\n    this.scrollController.setScrollLeft(top);\n\n    if (!this.doesListening) {\n      // we are not relying on the element to normalize out-of-bounds scroll values\n      // so we need to sanitize ourselves\n      this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()), 0);\n      this.handleScrollChange();\n    }\n  };\n\n  ScrollGeomCache.prototype.getClientWidth = function () {\n    return this.clientWidth;\n  };\n\n  ScrollGeomCache.prototype.getClientHeight = function () {\n    return this.clientHeight;\n  };\n\n  ScrollGeomCache.prototype.getScrollWidth = function () {\n    return this.scrollWidth;\n  };\n\n  ScrollGeomCache.prototype.getScrollHeight = function () {\n    return this.scrollHeight;\n  };\n\n  ScrollGeomCache.prototype.handleScrollChange = function () {};\n\n  return ScrollGeomCache;\n}(ScrollController);\n\nvar ElementScrollGeomCache =\n/** @class */\nfunction (_super) {\n  __extends(ElementScrollGeomCache, _super);\n\n  function ElementScrollGeomCache(el, doesListening) {\n    return _super.call(this, new ElementScrollController(el), doesListening) || this;\n  }\n\n  ElementScrollGeomCache.prototype.getEventTarget = function () {\n    return this.scrollController.el;\n  };\n\n  ElementScrollGeomCache.prototype.computeClientRect = function () {\n    return computeInnerRect(this.scrollController.el);\n  };\n\n  return ElementScrollGeomCache;\n}(ScrollGeomCache);\n\nvar WindowScrollGeomCache =\n/** @class */\nfunction (_super) {\n  __extends(WindowScrollGeomCache, _super);\n\n  function WindowScrollGeomCache(doesListening) {\n    return _super.call(this, new WindowScrollController(), doesListening) || this;\n  }\n\n  WindowScrollGeomCache.prototype.getEventTarget = function () {\n    return window;\n  };\n\n  WindowScrollGeomCache.prototype.computeClientRect = function () {\n    return {\n      left: this.scrollLeft,\n      right: this.scrollLeft + this.clientWidth,\n      top: this.scrollTop,\n      bottom: this.scrollTop + this.clientHeight\n    };\n  }; // the window is the only scroll object that changes it's rectangle relative\n  // to the document's topleft as it scrolls\n\n\n  WindowScrollGeomCache.prototype.handleScrollChange = function () {\n    this.clientRect = this.computeClientRect();\n  };\n\n  return WindowScrollGeomCache;\n}(ScrollGeomCache); // If available we are using native \"performance\" API instead of \"Date\"\n// Read more about it on MDN:\n// https://developer.mozilla.org/en-US/docs/Web/API/Performance\n\n\nvar getTime = typeof performance === 'function' ? performance.now : Date.now;\n/*\nFor a pointer interaction, automatically scrolls certain scroll containers when the pointer\napproaches the edge.\n\nThe caller must call start + handleMove + stop.\n*/\n\nvar AutoScroller =\n/** @class */\nfunction () {\n  function AutoScroller() {\n    var _this = this; // options that can be set by caller\n\n\n    this.isEnabled = true;\n    this.scrollQuery = [window, '.fc-scroller'];\n    this.edgeThreshold = 50; // pixels\n\n    this.maxVelocity = 300; // pixels per second\n    // internal state\n\n    this.pointerScreenX = null;\n    this.pointerScreenY = null;\n    this.isAnimating = false;\n    this.scrollCaches = null; // protect against the initial pointerdown being too close to an edge and starting the scroll\n\n    this.everMovedUp = false;\n    this.everMovedDown = false;\n    this.everMovedLeft = false;\n    this.everMovedRight = false;\n\n    this.animate = function () {\n      if (_this.isAnimating) {\n        // wasn't cancelled between animation calls\n        var edge = _this.computeBestEdge(_this.pointerScreenX + window.pageXOffset, _this.pointerScreenY + window.pageYOffset);\n\n        if (edge) {\n          var now = getTime();\n\n          _this.handleSide(edge, (now - _this.msSinceRequest) / 1000);\n\n          _this.requestAnimation(now);\n        } else {\n          _this.isAnimating = false; // will stop animation\n        }\n      }\n    };\n  }\n\n  AutoScroller.prototype.start = function (pageX, pageY, scrollStartEl) {\n    if (this.isEnabled) {\n      this.scrollCaches = this.buildCaches(scrollStartEl);\n      this.pointerScreenX = null;\n      this.pointerScreenY = null;\n      this.everMovedUp = false;\n      this.everMovedDown = false;\n      this.everMovedLeft = false;\n      this.everMovedRight = false;\n      this.handleMove(pageX, pageY);\n    }\n  };\n\n  AutoScroller.prototype.handleMove = function (pageX, pageY) {\n    if (this.isEnabled) {\n      var pointerScreenX = pageX - window.pageXOffset;\n      var pointerScreenY = pageY - window.pageYOffset;\n      var yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n      var xDelta = this.pointerScreenX === null ? 0 : pointerScreenX - this.pointerScreenX;\n\n      if (yDelta < 0) {\n        this.everMovedUp = true;\n      } else if (yDelta > 0) {\n        this.everMovedDown = true;\n      }\n\n      if (xDelta < 0) {\n        this.everMovedLeft = true;\n      } else if (xDelta > 0) {\n        this.everMovedRight = true;\n      }\n\n      this.pointerScreenX = pointerScreenX;\n      this.pointerScreenY = pointerScreenY;\n\n      if (!this.isAnimating) {\n        this.isAnimating = true;\n        this.requestAnimation(getTime());\n      }\n    }\n  };\n\n  AutoScroller.prototype.stop = function () {\n    if (this.isEnabled) {\n      this.isAnimating = false; // will stop animation\n\n      for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n        var scrollCache = _a[_i];\n        scrollCache.destroy();\n      }\n\n      this.scrollCaches = null;\n    }\n  };\n\n  AutoScroller.prototype.requestAnimation = function (now) {\n    this.msSinceRequest = now;\n    requestAnimationFrame(this.animate);\n  };\n\n  AutoScroller.prototype.handleSide = function (edge, seconds) {\n    var scrollCache = edge.scrollCache;\n    var edgeThreshold = this.edgeThreshold;\n    var invDistance = edgeThreshold - edge.distance;\n    var velocity = // the closer to the edge, the faster we scroll\n    invDistance * invDistance / (edgeThreshold * edgeThreshold) * // quadratic\n    this.maxVelocity * seconds;\n    var sign = 1;\n\n    switch (edge.name) {\n      case 'left':\n        sign = -1;\n      // falls through\n\n      case 'right':\n        scrollCache.setScrollLeft(scrollCache.getScrollLeft() + velocity * sign);\n        break;\n\n      case 'top':\n        sign = -1;\n      // falls through\n\n      case 'bottom':\n        scrollCache.setScrollTop(scrollCache.getScrollTop() + velocity * sign);\n        break;\n    }\n  }; // left/top are relative to document topleft\n\n\n  AutoScroller.prototype.computeBestEdge = function (left, top) {\n    var edgeThreshold = this.edgeThreshold;\n    var bestSide = null;\n    var scrollCaches = this.scrollCaches || [];\n\n    for (var _i = 0, scrollCaches_1 = scrollCaches; _i < scrollCaches_1.length; _i++) {\n      var scrollCache = scrollCaches_1[_i];\n      var rect = scrollCache.clientRect;\n      var leftDist = left - rect.left;\n      var rightDist = rect.right - left;\n      var topDist = top - rect.top;\n      var bottomDist = rect.bottom - top; // completely within the rect?\n\n      if (leftDist >= 0 && rightDist >= 0 && topDist >= 0 && bottomDist >= 0) {\n        if (topDist <= edgeThreshold && this.everMovedUp && scrollCache.canScrollUp() && (!bestSide || bestSide.distance > topDist)) {\n          bestSide = {\n            scrollCache: scrollCache,\n            name: 'top',\n            distance: topDist\n          };\n        }\n\n        if (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown() && (!bestSide || bestSide.distance > bottomDist)) {\n          bestSide = {\n            scrollCache: scrollCache,\n            name: 'bottom',\n            distance: bottomDist\n          };\n        }\n\n        if (leftDist <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() && (!bestSide || bestSide.distance > leftDist)) {\n          bestSide = {\n            scrollCache: scrollCache,\n            name: 'left',\n            distance: leftDist\n          };\n        }\n\n        if (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight() && (!bestSide || bestSide.distance > rightDist)) {\n          bestSide = {\n            scrollCache: scrollCache,\n            name: 'right',\n            distance: rightDist\n          };\n        }\n      }\n    }\n\n    return bestSide;\n  };\n\n  AutoScroller.prototype.buildCaches = function (scrollStartEl) {\n    return this.queryScrollEls(scrollStartEl).map(function (el) {\n      if (el === window) {\n        return new WindowScrollGeomCache(false); // false = don't listen to user-generated scrolls\n      }\n\n      return new ElementScrollGeomCache(el, false); // false = don't listen to user-generated scrolls\n    });\n  };\n\n  AutoScroller.prototype.queryScrollEls = function (scrollStartEl) {\n    var els = [];\n\n    for (var _i = 0, _a = this.scrollQuery; _i < _a.length; _i++) {\n      var query = _a[_i];\n\n      if (typeof query === 'object') {\n        els.push(query);\n      } else {\n        els.push.apply(els, Array.prototype.slice.call(getElRoot(scrollStartEl).querySelectorAll(query)));\n      }\n    }\n\n    return els;\n  };\n\n  return AutoScroller;\n}();\n/*\nMonitors dragging on an element. Has a number of high-level features:\n- minimum distance required before dragging\n- minimum wait time (\"delay\") before dragging\n- a mirror element that follows the pointer\n*/\n\n\nvar FeaturefulElementDragging =\n/** @class */\nfunction (_super) {\n  __extends(FeaturefulElementDragging, _super);\n\n  function FeaturefulElementDragging(containerEl, selector) {\n    var _this = _super.call(this, containerEl) || this;\n\n    _this.containerEl = containerEl; // options that can be directly set by caller\n    // the caller can also set the PointerDragging's options as well\n\n    _this.delay = null;\n    _this.minDistance = 0;\n    _this.touchScrollAllowed = true; // prevents drag from starting and blocks scrolling during drag\n\n    _this.mirrorNeedsRevert = false;\n    _this.isInteracting = false; // is the user validly moving the pointer? lasts until pointerup\n\n    _this.isDragging = false; // is it INTENTFULLY dragging? lasts until after revert animation\n\n    _this.isDelayEnded = false;\n    _this.isDistanceSurpassed = false;\n    _this.delayTimeoutId = null;\n\n    _this.onPointerDown = function (ev) {\n      if (!_this.isDragging) {\n        // so new drag doesn't happen while revert animation is going\n        _this.isInteracting = true;\n        _this.isDelayEnded = false;\n        _this.isDistanceSurpassed = false;\n        preventSelection(document.body);\n        preventContextMenu(document.body); // prevent links from being visited if there's an eventual drag.\n        // also prevents selection in older browsers (maybe?).\n        // not necessary for touch, besides, browser would complain about passiveness.\n\n        if (!ev.isTouch) {\n          ev.origEvent.preventDefault();\n        }\n\n        _this.emitter.trigger('pointerdown', ev);\n\n        if (_this.isInteracting && // not destroyed via pointerdown handler\n        !_this.pointer.shouldIgnoreMove) {\n          // actions related to initiating dragstart+dragmove+dragend...\n          _this.mirror.setIsVisible(false); // reset. caller must set-visible\n\n\n          _this.mirror.start(ev.subjectEl, ev.pageX, ev.pageY); // must happen on first pointer down\n\n\n          _this.startDelay(ev);\n\n          if (!_this.minDistance) {\n            _this.handleDistanceSurpassed(ev);\n          }\n        }\n      }\n    };\n\n    _this.onPointerMove = function (ev) {\n      if (_this.isInteracting) {\n        _this.emitter.trigger('pointermove', ev);\n\n        if (!_this.isDistanceSurpassed) {\n          var minDistance = _this.minDistance;\n          var distanceSq = void 0; // current distance from the origin, squared\n\n          var deltaX = ev.deltaX,\n              deltaY = ev.deltaY;\n          distanceSq = deltaX * deltaX + deltaY * deltaY;\n\n          if (distanceSq >= minDistance * minDistance) {\n            // use pythagorean theorem\n            _this.handleDistanceSurpassed(ev);\n          }\n        }\n\n        if (_this.isDragging) {\n          // a real pointer move? (not one simulated by scrolling)\n          if (ev.origEvent.type !== 'scroll') {\n            _this.mirror.handleMove(ev.pageX, ev.pageY);\n\n            _this.autoScroller.handleMove(ev.pageX, ev.pageY);\n          }\n\n          _this.emitter.trigger('dragmove', ev);\n        }\n      }\n    };\n\n    _this.onPointerUp = function (ev) {\n      if (_this.isInteracting) {\n        _this.isInteracting = false;\n        allowSelection(document.body);\n        allowContextMenu(document.body);\n\n        _this.emitter.trigger('pointerup', ev); // can potentially set mirrorNeedsRevert\n\n\n        if (_this.isDragging) {\n          _this.autoScroller.stop();\n\n          _this.tryStopDrag(ev); // which will stop the mirror\n\n        }\n\n        if (_this.delayTimeoutId) {\n          clearTimeout(_this.delayTimeoutId);\n          _this.delayTimeoutId = null;\n        }\n      }\n    };\n\n    var pointer = _this.pointer = new PointerDragging(containerEl);\n    pointer.emitter.on('pointerdown', _this.onPointerDown);\n    pointer.emitter.on('pointermove', _this.onPointerMove);\n    pointer.emitter.on('pointerup', _this.onPointerUp);\n\n    if (selector) {\n      pointer.selector = selector;\n    }\n\n    _this.mirror = new ElementMirror();\n    _this.autoScroller = new AutoScroller();\n    return _this;\n  }\n\n  FeaturefulElementDragging.prototype.destroy = function () {\n    this.pointer.destroy(); // HACK: simulate a pointer-up to end the current drag\n    // TODO: fire 'dragend' directly and stop interaction. discourage use of pointerup event (b/c might not fire)\n\n    this.onPointerUp({});\n  };\n\n  FeaturefulElementDragging.prototype.startDelay = function (ev) {\n    var _this = this;\n\n    if (typeof this.delay === 'number') {\n      this.delayTimeoutId = setTimeout(function () {\n        _this.delayTimeoutId = null;\n\n        _this.handleDelayEnd(ev);\n      }, this.delay); // not assignable to number!\n    } else {\n      this.handleDelayEnd(ev);\n    }\n  };\n\n  FeaturefulElementDragging.prototype.handleDelayEnd = function (ev) {\n    this.isDelayEnded = true;\n    this.tryStartDrag(ev);\n  };\n\n  FeaturefulElementDragging.prototype.handleDistanceSurpassed = function (ev) {\n    this.isDistanceSurpassed = true;\n    this.tryStartDrag(ev);\n  };\n\n  FeaturefulElementDragging.prototype.tryStartDrag = function (ev) {\n    if (this.isDelayEnded && this.isDistanceSurpassed) {\n      if (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n        this.isDragging = true;\n        this.mirrorNeedsRevert = false;\n        this.autoScroller.start(ev.pageX, ev.pageY, this.containerEl);\n        this.emitter.trigger('dragstart', ev);\n\n        if (this.touchScrollAllowed === false) {\n          this.pointer.cancelTouchScroll();\n        }\n      }\n    }\n  };\n\n  FeaturefulElementDragging.prototype.tryStopDrag = function (ev) {\n    // .stop() is ALWAYS asynchronous, which we NEED because we want all pointerup events\n    // that come from the document to fire beforehand. much more convenient this way.\n    this.mirror.stop(this.mirrorNeedsRevert, this.stopDrag.bind(this, ev));\n  };\n\n  FeaturefulElementDragging.prototype.stopDrag = function (ev) {\n    this.isDragging = false;\n    this.emitter.trigger('dragend', ev);\n  }; // fill in the implementations...\n\n\n  FeaturefulElementDragging.prototype.setIgnoreMove = function (bool) {\n    this.pointer.shouldIgnoreMove = bool;\n  };\n\n  FeaturefulElementDragging.prototype.setMirrorIsVisible = function (bool) {\n    this.mirror.setIsVisible(bool);\n  };\n\n  FeaturefulElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n    this.mirrorNeedsRevert = bool;\n  };\n\n  FeaturefulElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n    this.autoScroller.isEnabled = bool;\n  };\n\n  return FeaturefulElementDragging;\n}(ElementDragging);\n/*\nWhen this class is instantiated, it records the offset of an element (relative to the document topleft),\nand continues to monitor scrolling, updating the cached coordinates if it needs to.\nDoes not access the DOM after instantiation, so highly performant.\n\nAlso keeps track of all scrolling/overflow:hidden containers that are parents of the given element\nand an determine if a given point is inside the combined clipping rectangle.\n*/\n\n\nvar OffsetTracker =\n/** @class */\nfunction () {\n  function OffsetTracker(el) {\n    this.origRect = computeRect(el); // will work fine for divs that have overflow:hidden\n\n    this.scrollCaches = getClippingParents(el).map(function (scrollEl) {\n      return new ElementScrollGeomCache(scrollEl, true);\n    });\n  }\n\n  OffsetTracker.prototype.destroy = function () {\n    for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n      var scrollCache = _a[_i];\n      scrollCache.destroy();\n    }\n  };\n\n  OffsetTracker.prototype.computeLeft = function () {\n    var left = this.origRect.left;\n\n    for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n      var scrollCache = _a[_i];\n      left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n    }\n\n    return left;\n  };\n\n  OffsetTracker.prototype.computeTop = function () {\n    var top = this.origRect.top;\n\n    for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n      var scrollCache = _a[_i];\n      top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n    }\n\n    return top;\n  };\n\n  OffsetTracker.prototype.isWithinClipping = function (pageX, pageY) {\n    var point = {\n      left: pageX,\n      top: pageY\n    };\n\n    for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n      var scrollCache = _a[_i];\n\n      if (!isIgnoredClipping(scrollCache.getEventTarget()) && !pointInsideRect(point, scrollCache.clientRect)) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  return OffsetTracker;\n}(); // certain clipping containers should never constrain interactions, like <html> and <body>\n// https://github.com/fullcalendar/fullcalendar/issues/3615\n\n\nfunction isIgnoredClipping(node) {\n  var tagName = node.tagName;\n  return tagName === 'HTML' || tagName === 'BODY';\n}\n/*\nTracks movement over multiple droppable areas (aka \"hits\")\nthat exist in one or more DateComponents.\nRelies on an existing draggable.\n\nemits:\n- pointerdown\n- dragstart\n- hitchange - fires initially, even if not over a hit\n- pointerup\n- (hitchange - again, to null, if ended over a hit)\n- dragend\n*/\n\n\nvar HitDragging =\n/** @class */\nfunction () {\n  function HitDragging(dragging, droppableStore) {\n    var _this = this; // options that can be set by caller\n\n\n    this.useSubjectCenter = false;\n    this.requireInitial = true; // if doesn't start out on a hit, won't emit any events\n\n    this.initialHit = null;\n    this.movingHit = null;\n    this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n\n    this.handlePointerDown = function (ev) {\n      var dragging = _this.dragging;\n      _this.initialHit = null;\n      _this.movingHit = null;\n      _this.finalHit = null;\n\n      _this.prepareHits();\n\n      _this.processFirstCoord(ev);\n\n      if (_this.initialHit || !_this.requireInitial) {\n        dragging.setIgnoreMove(false); // TODO: fire this before computing processFirstCoord, so listeners can cancel. this gets fired by almost every handler :(\n\n        _this.emitter.trigger('pointerdown', ev);\n      } else {\n        dragging.setIgnoreMove(true);\n      }\n    };\n\n    this.handleDragStart = function (ev) {\n      _this.emitter.trigger('dragstart', ev);\n\n      _this.handleMove(ev, true); // force = fire even if initially null\n\n    };\n\n    this.handleDragMove = function (ev) {\n      _this.emitter.trigger('dragmove', ev);\n\n      _this.handleMove(ev);\n    };\n\n    this.handlePointerUp = function (ev) {\n      _this.releaseHits();\n\n      _this.emitter.trigger('pointerup', ev);\n    };\n\n    this.handleDragEnd = function (ev) {\n      if (_this.movingHit) {\n        _this.emitter.trigger('hitupdate', null, true, ev);\n      }\n\n      _this.finalHit = _this.movingHit;\n      _this.movingHit = null;\n\n      _this.emitter.trigger('dragend', ev);\n    };\n\n    this.droppableStore = droppableStore;\n    dragging.emitter.on('pointerdown', this.handlePointerDown);\n    dragging.emitter.on('dragstart', this.handleDragStart);\n    dragging.emitter.on('dragmove', this.handleDragMove);\n    dragging.emitter.on('pointerup', this.handlePointerUp);\n    dragging.emitter.on('dragend', this.handleDragEnd);\n    this.dragging = dragging;\n    this.emitter = new Emitter();\n  } // sets initialHit\n  // sets coordAdjust\n\n\n  HitDragging.prototype.processFirstCoord = function (ev) {\n    var origPoint = {\n      left: ev.pageX,\n      top: ev.pageY\n    };\n    var adjustedPoint = origPoint;\n    var subjectEl = ev.subjectEl;\n    var subjectRect;\n\n    if (subjectEl instanceof HTMLElement) {\n      // i.e. not a Document/ShadowRoot\n      subjectRect = computeRect(subjectEl);\n      adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n    }\n\n    var initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left, adjustedPoint.top);\n\n    if (initialHit) {\n      if (this.useSubjectCenter && subjectRect) {\n        var slicedSubjectRect = intersectRects(subjectRect, initialHit.rect);\n\n        if (slicedSubjectRect) {\n          adjustedPoint = getRectCenter(slicedSubjectRect);\n        }\n      }\n\n      this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n    } else {\n      this.coordAdjust = {\n        left: 0,\n        top: 0\n      };\n    }\n  };\n\n  HitDragging.prototype.handleMove = function (ev, forceHandle) {\n    var hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left, ev.pageY + this.coordAdjust.top);\n\n    if (forceHandle || !isHitsEqual(this.movingHit, hit)) {\n      this.movingHit = hit;\n      this.emitter.trigger('hitupdate', hit, false, ev);\n    }\n  };\n\n  HitDragging.prototype.prepareHits = function () {\n    this.offsetTrackers = mapHash(this.droppableStore, function (interactionSettings) {\n      interactionSettings.component.prepareHits();\n      return new OffsetTracker(interactionSettings.el);\n    });\n  };\n\n  HitDragging.prototype.releaseHits = function () {\n    var offsetTrackers = this.offsetTrackers;\n\n    for (var id in offsetTrackers) {\n      offsetTrackers[id].destroy();\n    }\n\n    this.offsetTrackers = {};\n  };\n\n  HitDragging.prototype.queryHitForOffset = function (offsetLeft, offsetTop) {\n    var _a = this,\n        droppableStore = _a.droppableStore,\n        offsetTrackers = _a.offsetTrackers;\n\n    var bestHit = null;\n\n    for (var id in droppableStore) {\n      var component = droppableStore[id].component;\n      var offsetTracker = offsetTrackers[id];\n\n      if (offsetTracker && // wasn't destroyed mid-drag\n      offsetTracker.isWithinClipping(offsetLeft, offsetTop)) {\n        var originLeft = offsetTracker.computeLeft();\n        var originTop = offsetTracker.computeTop();\n        var positionLeft = offsetLeft - originLeft;\n        var positionTop = offsetTop - originTop;\n        var origRect = offsetTracker.origRect;\n        var width = origRect.right - origRect.left;\n        var height = origRect.bottom - origRect.top;\n\n        if ( // must be within the element's bounds\n        positionLeft >= 0 && positionLeft < width && positionTop >= 0 && positionTop < height) {\n          var hit = component.queryHit(positionLeft, positionTop, width, height);\n\n          if (hit && // make sure the hit is within activeRange, meaning it's not a dead cell\n          rangeContainsRange(hit.dateProfile.activeRange, hit.dateSpan.range) && (!bestHit || hit.layer > bestHit.layer)) {\n            hit.componentId = id;\n            hit.context = component.context; // TODO: better way to re-orient rectangle\n\n            hit.rect.left += originLeft;\n            hit.rect.right += originLeft;\n            hit.rect.top += originTop;\n            hit.rect.bottom += originTop;\n            bestHit = hit;\n          }\n        }\n      }\n    }\n\n    return bestHit;\n  };\n\n  return HitDragging;\n}();\n\nfunction isHitsEqual(hit0, hit1) {\n  if (!hit0 && !hit1) {\n    return true;\n  }\n\n  if (Boolean(hit0) !== Boolean(hit1)) {\n    return false;\n  }\n\n  return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n}\n\nfunction buildDatePointApiWithContext(dateSpan, context) {\n  var props = {};\n\n  for (var _i = 0, _a = context.pluginHooks.datePointTransforms; _i < _a.length; _i++) {\n    var transform = _a[_i];\n\n    __assign(props, transform(dateSpan, context));\n  }\n\n  __assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n\n  return props;\n}\n\nfunction buildDatePointApi(span, dateEnv) {\n  return {\n    date: dateEnv.toDate(span.range.start),\n    dateStr: dateEnv.formatIso(span.range.start, {\n      omitTime: span.allDay\n    }),\n    allDay: span.allDay\n  };\n}\n/*\nMonitors when the user clicks on a specific date/time of a component.\nA pointerdown+pointerup on the same \"hit\" constitutes a click.\n*/\n\n\nvar DateClicking =\n/** @class */\nfunction (_super) {\n  __extends(DateClicking, _super);\n\n  function DateClicking(settings) {\n    var _this = _super.call(this, settings) || this;\n\n    _this.handlePointerDown = function (pev) {\n      var dragging = _this.dragging;\n      var downEl = pev.origEvent.target; // do this in pointerdown (not dragend) because DOM might be mutated by the time dragend is fired\n\n      dragging.setIgnoreMove(!_this.component.isValidDateDownEl(downEl));\n    }; // won't even fire if moving was ignored\n\n\n    _this.handleDragEnd = function (ev) {\n      var component = _this.component;\n      var pointer = _this.dragging.pointer;\n\n      if (!pointer.wasTouchScroll) {\n        var _a = _this.hitDragging,\n            initialHit = _a.initialHit,\n            finalHit = _a.finalHit;\n\n        if (initialHit && finalHit && isHitsEqual(initialHit, finalHit)) {\n          var context = component.context;\n\n          var arg = __assign(__assign({}, buildDatePointApiWithContext(initialHit.dateSpan, context)), {\n            dayEl: initialHit.dayEl,\n            jsEvent: ev.origEvent,\n            view: context.viewApi || context.calendarApi.view\n          });\n\n          context.emitter.trigger('dateClick', arg);\n        }\n      }\n    }; // we DO want to watch pointer moves because otherwise finalHit won't get populated\n\n\n    _this.dragging = new FeaturefulElementDragging(settings.el);\n    _this.dragging.autoScroller.isEnabled = false;\n    var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n    hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n    hitDragging.emitter.on('dragend', _this.handleDragEnd);\n    return _this;\n  }\n\n  DateClicking.prototype.destroy = function () {\n    this.dragging.destroy();\n  };\n\n  return DateClicking;\n}(Interaction);\n/*\nTracks when the user selects a portion of time of a component,\nconstituted by a drag over date cells, with a possible delay at the beginning of the drag.\n*/\n\n\nvar DateSelecting =\n/** @class */\nfunction (_super) {\n  __extends(DateSelecting, _super);\n\n  function DateSelecting(settings) {\n    var _this = _super.call(this, settings) || this;\n\n    _this.dragSelection = null;\n\n    _this.handlePointerDown = function (ev) {\n      var _a = _this,\n          component = _a.component,\n          dragging = _a.dragging;\n      var options = component.context.options;\n      var canSelect = options.selectable && component.isValidDateDownEl(ev.origEvent.target); // don't bother to watch expensive moves if component won't do selection\n\n      dragging.setIgnoreMove(!canSelect); // if touch, require user to hold down\n\n      dragging.delay = ev.isTouch ? getComponentTouchDelay$1(component) : null;\n    };\n\n    _this.handleDragStart = function (ev) {\n      _this.component.context.calendarApi.unselect(ev); // unselect previous selections\n\n    };\n\n    _this.handleHitUpdate = function (hit, isFinal) {\n      var context = _this.component.context;\n      var dragSelection = null;\n      var isInvalid = false;\n\n      if (hit) {\n        var initialHit = _this.hitDragging.initialHit;\n        var disallowed = hit.componentId === initialHit.componentId && _this.isHitComboAllowed && !_this.isHitComboAllowed(initialHit, hit);\n\n        if (!disallowed) {\n          dragSelection = joinHitsIntoSelection(initialHit, hit, context.pluginHooks.dateSelectionTransformers);\n        }\n\n        if (!dragSelection || !isDateSelectionValid(dragSelection, hit.dateProfile, context)) {\n          isInvalid = true;\n          dragSelection = null;\n        }\n      }\n\n      if (dragSelection) {\n        context.dispatch({\n          type: 'SELECT_DATES',\n          selection: dragSelection\n        });\n      } else if (!isFinal) {\n        // only unselect if moved away while dragging\n        context.dispatch({\n          type: 'UNSELECT_DATES'\n        });\n      }\n\n      if (!isInvalid) {\n        enableCursor();\n      } else {\n        disableCursor();\n      }\n\n      if (!isFinal) {\n        _this.dragSelection = dragSelection; // only clear if moved away from all hits while dragging\n      }\n    };\n\n    _this.handlePointerUp = function (pev) {\n      if (_this.dragSelection) {\n        // selection is already rendered, so just need to report selection\n        triggerDateSelect(_this.dragSelection, pev, _this.component.context);\n        _this.dragSelection = null;\n      }\n    };\n\n    var component = settings.component;\n    var options = component.context.options;\n    var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n    dragging.touchScrollAllowed = false;\n    dragging.minDistance = options.selectMinDistance || 0;\n    dragging.autoScroller.isEnabled = options.dragScroll;\n    var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n    hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n    hitDragging.emitter.on('dragstart', _this.handleDragStart);\n    hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n    hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n    return _this;\n  }\n\n  DateSelecting.prototype.destroy = function () {\n    this.dragging.destroy();\n  };\n\n  return DateSelecting;\n}(Interaction);\n\nfunction getComponentTouchDelay$1(component) {\n  var options = component.context.options;\n  var delay = options.selectLongPressDelay;\n\n  if (delay == null) {\n    delay = options.longPressDelay;\n  }\n\n  return delay;\n}\n\nfunction joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers) {\n  var dateSpan0 = hit0.dateSpan;\n  var dateSpan1 = hit1.dateSpan;\n  var ms = [dateSpan0.range.start, dateSpan0.range.end, dateSpan1.range.start, dateSpan1.range.end];\n  ms.sort(compareNumbers);\n  var props = {};\n\n  for (var _i = 0, dateSelectionTransformers_1 = dateSelectionTransformers; _i < dateSelectionTransformers_1.length; _i++) {\n    var transformer = dateSelectionTransformers_1[_i];\n    var res = transformer(hit0, hit1);\n\n    if (res === false) {\n      return null;\n    }\n\n    if (res) {\n      __assign(props, res);\n    }\n  }\n\n  props.range = {\n    start: ms[0],\n    end: ms[3]\n  };\n  props.allDay = dateSpan0.allDay;\n  return props;\n}\n\nvar EventDragging =\n/** @class */\nfunction (_super) {\n  __extends(EventDragging, _super);\n\n  function EventDragging(settings) {\n    var _this = _super.call(this, settings) || this; // internal state\n\n\n    _this.subjectEl = null;\n    _this.subjectSeg = null; // the seg being selected/dragged\n\n    _this.isDragging = false;\n    _this.eventRange = null;\n    _this.relevantEvents = null; // the events being dragged\n\n    _this.receivingContext = null;\n    _this.validMutation = null;\n    _this.mutatedRelevantEvents = null;\n\n    _this.handlePointerDown = function (ev) {\n      var origTarget = ev.origEvent.target;\n      var _a = _this,\n          component = _a.component,\n          dragging = _a.dragging;\n      var mirror = dragging.mirror;\n      var options = component.context.options;\n      var initialContext = component.context;\n      _this.subjectEl = ev.subjectEl;\n      var subjectSeg = _this.subjectSeg = getElSeg(ev.subjectEl);\n      var eventRange = _this.eventRange = subjectSeg.eventRange;\n      var eventInstanceId = eventRange.instance.instanceId;\n      _this.relevantEvents = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n      dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n      dragging.delay = // only do a touch delay if touch and this event hasn't been selected yet\n      ev.isTouch && eventInstanceId !== component.props.eventSelection ? getComponentTouchDelay(component) : null;\n\n      if (options.fixedMirrorParent) {\n        mirror.parentNode = options.fixedMirrorParent;\n      } else {\n        mirror.parentNode = elementClosest(origTarget, '.fc');\n      }\n\n      mirror.revertDuration = options.dragRevertDuration;\n      var isValid = component.isValidSegDownEl(origTarget) && !elementClosest(origTarget, '.fc-event-resizer'); // NOT on a resizer\n\n      dragging.setIgnoreMove(!isValid); // disable dragging for elements that are resizable (ie, selectable)\n      // but are not draggable\n\n      _this.isDragging = isValid && ev.subjectEl.classList.contains('fc-event-draggable');\n    };\n\n    _this.handleDragStart = function (ev) {\n      var initialContext = _this.component.context;\n      var eventRange = _this.eventRange;\n      var eventInstanceId = eventRange.instance.instanceId;\n\n      if (ev.isTouch) {\n        // need to select a different event?\n        if (eventInstanceId !== _this.component.props.eventSelection) {\n          initialContext.dispatch({\n            type: 'SELECT_EVENT',\n            eventInstanceId: eventInstanceId\n          });\n        }\n      } else {\n        // if now using mouse, but was previous touch interaction, clear selected event\n        initialContext.dispatch({\n          type: 'UNSELECT_EVENT'\n        });\n      }\n\n      if (_this.isDragging) {\n        initialContext.calendarApi.unselect(ev); // unselect *date* selection\n\n        initialContext.emitter.trigger('eventDragStart', {\n          el: _this.subjectEl,\n          event: new EventApi(initialContext, eventRange.def, eventRange.instance),\n          jsEvent: ev.origEvent,\n          view: initialContext.viewApi\n        });\n      }\n    };\n\n    _this.handleHitUpdate = function (hit, isFinal) {\n      if (!_this.isDragging) {\n        return;\n      }\n\n      var relevantEvents = _this.relevantEvents;\n      var initialHit = _this.hitDragging.initialHit;\n      var initialContext = _this.component.context; // states based on new hit\n\n      var receivingContext = null;\n      var mutation = null;\n      var mutatedRelevantEvents = null;\n      var isInvalid = false;\n      var interaction = {\n        affectedEvents: relevantEvents,\n        mutatedEvents: createEmptyEventStore(),\n        isEvent: true\n      };\n\n      if (hit) {\n        receivingContext = hit.context;\n        var receivingOptions = receivingContext.options;\n\n        if (initialContext === receivingContext || receivingOptions.editable && receivingOptions.droppable) {\n          mutation = computeEventMutation(initialHit, hit, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n\n          if (mutation) {\n            mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases, mutation, receivingContext);\n            interaction.mutatedEvents = mutatedRelevantEvents;\n\n            if (!isInteractionValid(interaction, hit.dateProfile, receivingContext)) {\n              isInvalid = true;\n              mutation = null;\n              mutatedRelevantEvents = null;\n              interaction.mutatedEvents = createEmptyEventStore();\n            }\n          }\n        } else {\n          receivingContext = null;\n        }\n      }\n\n      _this.displayDrag(receivingContext, interaction);\n\n      if (!isInvalid) {\n        enableCursor();\n      } else {\n        disableCursor();\n      }\n\n      if (!isFinal) {\n        if (initialContext === receivingContext && // TODO: write test for this\n        isHitsEqual(initialHit, hit)) {\n          mutation = null;\n        }\n\n        _this.dragging.setMirrorNeedsRevert(!mutation); // render the mirror if no already-rendered mirror\n        // TODO: wish we could somehow wait for dispatch to guarantee render\n\n\n        _this.dragging.setMirrorIsVisible(!hit || !getElRoot(_this.subjectEl).querySelector('.fc-event-mirror')); // assign states based on new hit\n\n\n        _this.receivingContext = receivingContext;\n        _this.validMutation = mutation;\n        _this.mutatedRelevantEvents = mutatedRelevantEvents;\n      }\n    };\n\n    _this.handlePointerUp = function () {\n      if (!_this.isDragging) {\n        _this.cleanup(); // because handleDragEnd won't fire\n\n      }\n    };\n\n    _this.handleDragEnd = function (ev) {\n      if (_this.isDragging) {\n        var initialContext_1 = _this.component.context;\n        var initialView = initialContext_1.viewApi;\n        var _a = _this,\n            receivingContext_1 = _a.receivingContext,\n            validMutation = _a.validMutation;\n        var eventDef = _this.eventRange.def;\n        var eventInstance = _this.eventRange.instance;\n        var eventApi = new EventApi(initialContext_1, eventDef, eventInstance);\n        var relevantEvents_1 = _this.relevantEvents;\n        var mutatedRelevantEvents_1 = _this.mutatedRelevantEvents;\n        var finalHit = _this.hitDragging.finalHit;\n\n        _this.clearDrag(); // must happen after revert animation\n\n\n        initialContext_1.emitter.trigger('eventDragStop', {\n          el: _this.subjectEl,\n          event: eventApi,\n          jsEvent: ev.origEvent,\n          view: initialView\n        });\n\n        if (validMutation) {\n          // dropped within same calendar\n          if (receivingContext_1 === initialContext_1) {\n            var updatedEventApi = new EventApi(initialContext_1, mutatedRelevantEvents_1.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents_1.instances[eventInstance.instanceId] : null);\n            initialContext_1.dispatch({\n              type: 'MERGE_EVENTS',\n              eventStore: mutatedRelevantEvents_1\n            });\n            var eventChangeArg = {\n              oldEvent: eventApi,\n              event: updatedEventApi,\n              relatedEvents: buildEventApis(mutatedRelevantEvents_1, initialContext_1, eventInstance),\n              revert: function revert() {\n                initialContext_1.dispatch({\n                  type: 'MERGE_EVENTS',\n                  eventStore: relevantEvents_1 // the pre-change data\n\n                });\n              }\n            };\n            var transformed = {};\n\n            for (var _i = 0, _b = initialContext_1.getCurrentData().pluginHooks.eventDropTransformers; _i < _b.length; _i++) {\n              var transformer = _b[_i];\n\n              __assign(transformed, transformer(validMutation, initialContext_1));\n            }\n\n            initialContext_1.emitter.trigger('eventDrop', __assign(__assign(__assign({}, eventChangeArg), transformed), {\n              el: ev.subjectEl,\n              delta: validMutation.datesDelta,\n              jsEvent: ev.origEvent,\n              view: initialView\n            }));\n            initialContext_1.emitter.trigger('eventChange', eventChangeArg); // dropped in different calendar\n          } else if (receivingContext_1) {\n            var eventRemoveArg = {\n              event: eventApi,\n              relatedEvents: buildEventApis(relevantEvents_1, initialContext_1, eventInstance),\n              revert: function revert() {\n                initialContext_1.dispatch({\n                  type: 'MERGE_EVENTS',\n                  eventStore: relevantEvents_1\n                });\n              }\n            };\n            initialContext_1.emitter.trigger('eventLeave', __assign(__assign({}, eventRemoveArg), {\n              draggedEl: ev.subjectEl,\n              view: initialView\n            }));\n            initialContext_1.dispatch({\n              type: 'REMOVE_EVENTS',\n              eventStore: relevantEvents_1\n            });\n            initialContext_1.emitter.trigger('eventRemove', eventRemoveArg);\n            var addedEventDef = mutatedRelevantEvents_1.defs[eventDef.defId];\n            var addedEventInstance = mutatedRelevantEvents_1.instances[eventInstance.instanceId];\n            var addedEventApi = new EventApi(receivingContext_1, addedEventDef, addedEventInstance);\n            receivingContext_1.dispatch({\n              type: 'MERGE_EVENTS',\n              eventStore: mutatedRelevantEvents_1\n            });\n            var eventAddArg = {\n              event: addedEventApi,\n              relatedEvents: buildEventApis(mutatedRelevantEvents_1, receivingContext_1, addedEventInstance),\n              revert: function revert() {\n                receivingContext_1.dispatch({\n                  type: 'REMOVE_EVENTS',\n                  eventStore: mutatedRelevantEvents_1\n                });\n              }\n            };\n            receivingContext_1.emitter.trigger('eventAdd', eventAddArg);\n\n            if (ev.isTouch) {\n              receivingContext_1.dispatch({\n                type: 'SELECT_EVENT',\n                eventInstanceId: eventInstance.instanceId\n              });\n            }\n\n            receivingContext_1.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext_1)), {\n              draggedEl: ev.subjectEl,\n              jsEvent: ev.origEvent,\n              view: finalHit.context.viewApi\n            }));\n            receivingContext_1.emitter.trigger('eventReceive', __assign(__assign({}, eventAddArg), {\n              draggedEl: ev.subjectEl,\n              view: finalHit.context.viewApi\n            }));\n          }\n        } else {\n          initialContext_1.emitter.trigger('_noEventDrop');\n        }\n      }\n\n      _this.cleanup();\n    };\n\n    var component = _this.component;\n    var options = component.context.options;\n    var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n    dragging.pointer.selector = EventDragging.SELECTOR;\n    dragging.touchScrollAllowed = false;\n    dragging.autoScroller.isEnabled = options.dragScroll;\n    var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsStore);\n    hitDragging.useSubjectCenter = settings.useEventCenter;\n    hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n    hitDragging.emitter.on('dragstart', _this.handleDragStart);\n    hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n    hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n    hitDragging.emitter.on('dragend', _this.handleDragEnd);\n    return _this;\n  }\n\n  EventDragging.prototype.destroy = function () {\n    this.dragging.destroy();\n  }; // render a drag state on the next receivingCalendar\n\n\n  EventDragging.prototype.displayDrag = function (nextContext, state) {\n    var initialContext = this.component.context;\n    var prevContext = this.receivingContext; // does the previous calendar need to be cleared?\n\n    if (prevContext && prevContext !== nextContext) {\n      // does the initial calendar need to be cleared?\n      // if so, don't clear all the way. we still need to to hide the affectedEvents\n      if (prevContext === initialContext) {\n        prevContext.dispatch({\n          type: 'SET_EVENT_DRAG',\n          state: {\n            affectedEvents: state.affectedEvents,\n            mutatedEvents: createEmptyEventStore(),\n            isEvent: true\n          }\n        }); // completely clear the old calendar if it wasn't the initial\n      } else {\n        prevContext.dispatch({\n          type: 'UNSET_EVENT_DRAG'\n        });\n      }\n    }\n\n    if (nextContext) {\n      nextContext.dispatch({\n        type: 'SET_EVENT_DRAG',\n        state: state\n      });\n    }\n  };\n\n  EventDragging.prototype.clearDrag = function () {\n    var initialCalendar = this.component.context;\n    var receivingContext = this.receivingContext;\n\n    if (receivingContext) {\n      receivingContext.dispatch({\n        type: 'UNSET_EVENT_DRAG'\n      });\n    } // the initial calendar might have an dummy drag state from displayDrag\n\n\n    if (initialCalendar !== receivingContext) {\n      initialCalendar.dispatch({\n        type: 'UNSET_EVENT_DRAG'\n      });\n    }\n  };\n\n  EventDragging.prototype.cleanup = function () {\n    this.subjectSeg = null;\n    this.isDragging = false;\n    this.eventRange = null;\n    this.relevantEvents = null;\n    this.receivingContext = null;\n    this.validMutation = null;\n    this.mutatedRelevantEvents = null;\n  }; // TODO: test this in IE11\n  // QUESTION: why do we need it on the resizable???\n\n\n  EventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\n  return EventDragging;\n}(Interaction);\n\nfunction computeEventMutation(hit0, hit1, massagers) {\n  var dateSpan0 = hit0.dateSpan;\n  var dateSpan1 = hit1.dateSpan;\n  var date0 = dateSpan0.range.start;\n  var date1 = dateSpan1.range.start;\n  var standardProps = {};\n\n  if (dateSpan0.allDay !== dateSpan1.allDay) {\n    standardProps.allDay = dateSpan1.allDay;\n    standardProps.hasEnd = hit1.context.options.allDayMaintainDuration;\n\n    if (dateSpan1.allDay) {\n      // means date1 is already start-of-day,\n      // but date0 needs to be converted\n      date0 = startOfDay(date0);\n    }\n  }\n\n  var delta = diffDates(date0, date1, hit0.context.dateEnv, hit0.componentId === hit1.componentId ? hit0.largeUnit : null);\n\n  if (delta.milliseconds) {\n    // has hours/minutes/seconds\n    standardProps.allDay = false;\n  }\n\n  var mutation = {\n    datesDelta: delta,\n    standardProps: standardProps\n  };\n\n  for (var _i = 0, massagers_1 = massagers; _i < massagers_1.length; _i++) {\n    var massager = massagers_1[_i];\n    massager(mutation, hit0, hit1);\n  }\n\n  return mutation;\n}\n\nfunction getComponentTouchDelay(component) {\n  var options = component.context.options;\n  var delay = options.eventLongPressDelay;\n\n  if (delay == null) {\n    delay = options.longPressDelay;\n  }\n\n  return delay;\n}\n\nvar EventResizing =\n/** @class */\nfunction (_super) {\n  __extends(EventResizing, _super);\n\n  function EventResizing(settings) {\n    var _this = _super.call(this, settings) || this; // internal state\n\n\n    _this.draggingSegEl = null;\n    _this.draggingSeg = null; // TODO: rename to resizingSeg? subjectSeg?\n\n    _this.eventRange = null;\n    _this.relevantEvents = null;\n    _this.validMutation = null;\n    _this.mutatedRelevantEvents = null;\n\n    _this.handlePointerDown = function (ev) {\n      var component = _this.component;\n\n      var segEl = _this.querySegEl(ev);\n\n      var seg = getElSeg(segEl);\n      var eventRange = _this.eventRange = seg.eventRange;\n      _this.dragging.minDistance = component.context.options.eventDragMinDistance; // if touch, need to be working with a selected event\n\n      _this.dragging.setIgnoreMove(!_this.component.isValidSegDownEl(ev.origEvent.target) || ev.isTouch && _this.component.props.eventSelection !== eventRange.instance.instanceId);\n    };\n\n    _this.handleDragStart = function (ev) {\n      var context = _this.component.context;\n      var eventRange = _this.eventRange;\n      _this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore, _this.eventRange.instance.instanceId);\n\n      var segEl = _this.querySegEl(ev);\n\n      _this.draggingSegEl = segEl;\n      _this.draggingSeg = getElSeg(segEl);\n      context.calendarApi.unselect();\n      context.emitter.trigger('eventResizeStart', {\n        el: segEl,\n        event: new EventApi(context, eventRange.def, eventRange.instance),\n        jsEvent: ev.origEvent,\n        view: context.viewApi\n      });\n    };\n\n    _this.handleHitUpdate = function (hit, isFinal, ev) {\n      var context = _this.component.context;\n      var relevantEvents = _this.relevantEvents;\n      var initialHit = _this.hitDragging.initialHit;\n      var eventInstance = _this.eventRange.instance;\n      var mutation = null;\n      var mutatedRelevantEvents = null;\n      var isInvalid = false;\n      var interaction = {\n        affectedEvents: relevantEvents,\n        mutatedEvents: createEmptyEventStore(),\n        isEvent: true\n      };\n\n      if (hit) {\n        var disallowed = hit.componentId === initialHit.componentId && _this.isHitComboAllowed && !_this.isHitComboAllowed(initialHit, hit);\n\n        if (!disallowed) {\n          mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'), eventInstance.range);\n        }\n      }\n\n      if (mutation) {\n        mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, context.getCurrentData().eventUiBases, mutation, context);\n        interaction.mutatedEvents = mutatedRelevantEvents;\n\n        if (!isInteractionValid(interaction, hit.dateProfile, context)) {\n          isInvalid = true;\n          mutation = null;\n          mutatedRelevantEvents = null;\n          interaction.mutatedEvents = null;\n        }\n      }\n\n      if (mutatedRelevantEvents) {\n        context.dispatch({\n          type: 'SET_EVENT_RESIZE',\n          state: interaction\n        });\n      } else {\n        context.dispatch({\n          type: 'UNSET_EVENT_RESIZE'\n        });\n      }\n\n      if (!isInvalid) {\n        enableCursor();\n      } else {\n        disableCursor();\n      }\n\n      if (!isFinal) {\n        if (mutation && isHitsEqual(initialHit, hit)) {\n          mutation = null;\n        }\n\n        _this.validMutation = mutation;\n        _this.mutatedRelevantEvents = mutatedRelevantEvents;\n      }\n    };\n\n    _this.handleDragEnd = function (ev) {\n      var context = _this.component.context;\n      var eventDef = _this.eventRange.def;\n      var eventInstance = _this.eventRange.instance;\n      var eventApi = new EventApi(context, eventDef, eventInstance);\n      var relevantEvents = _this.relevantEvents;\n      var mutatedRelevantEvents = _this.mutatedRelevantEvents;\n      context.emitter.trigger('eventResizeStop', {\n        el: _this.draggingSegEl,\n        event: eventApi,\n        jsEvent: ev.origEvent,\n        view: context.viewApi\n      });\n\n      if (_this.validMutation) {\n        var updatedEventApi = new EventApi(context, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n        context.dispatch({\n          type: 'MERGE_EVENTS',\n          eventStore: mutatedRelevantEvents\n        });\n        var eventChangeArg = {\n          oldEvent: eventApi,\n          event: updatedEventApi,\n          relatedEvents: buildEventApis(mutatedRelevantEvents, context, eventInstance),\n          revert: function revert() {\n            context.dispatch({\n              type: 'MERGE_EVENTS',\n              eventStore: relevantEvents // the pre-change events\n\n            });\n          }\n        };\n        context.emitter.trigger('eventResize', __assign(__assign({}, eventChangeArg), {\n          el: _this.draggingSegEl,\n          startDelta: _this.validMutation.startDelta || createDuration(0),\n          endDelta: _this.validMutation.endDelta || createDuration(0),\n          jsEvent: ev.origEvent,\n          view: context.viewApi\n        }));\n        context.emitter.trigger('eventChange', eventChangeArg);\n      } else {\n        context.emitter.trigger('_noEventResize');\n      } // reset all internal state\n\n\n      _this.draggingSeg = null;\n      _this.relevantEvents = null;\n      _this.validMutation = null; // okay to keep eventInstance around. useful to set it in handlePointerDown\n    };\n\n    var component = settings.component;\n    var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n    dragging.pointer.selector = '.fc-event-resizer';\n    dragging.touchScrollAllowed = false;\n    dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n    var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n    hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n    hitDragging.emitter.on('dragstart', _this.handleDragStart);\n    hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n    hitDragging.emitter.on('dragend', _this.handleDragEnd);\n    return _this;\n  }\n\n  EventResizing.prototype.destroy = function () {\n    this.dragging.destroy();\n  };\n\n  EventResizing.prototype.querySegEl = function (ev) {\n    return elementClosest(ev.subjectEl, '.fc-event');\n  };\n\n  return EventResizing;\n}(Interaction);\n\nfunction computeMutation(hit0, hit1, isFromStart, instanceRange) {\n  var dateEnv = hit0.context.dateEnv;\n  var date0 = hit0.dateSpan.range.start;\n  var date1 = hit1.dateSpan.range.start;\n  var delta = diffDates(date0, date1, dateEnv, hit0.largeUnit);\n\n  if (isFromStart) {\n    if (dateEnv.add(instanceRange.start, delta) < instanceRange.end) {\n      return {\n        startDelta: delta\n      };\n    }\n  } else if (dateEnv.add(instanceRange.end, delta) > instanceRange.start) {\n    return {\n      endDelta: delta\n    };\n  }\n\n  return null;\n}\n\nvar UnselectAuto =\n/** @class */\nfunction () {\n  function UnselectAuto(context) {\n    var _this = this;\n\n    this.context = context;\n    this.isRecentPointerDateSelect = false; // wish we could use a selector to detect date selection, but uses hit system\n\n    this.matchesCancel = false;\n    this.matchesEvent = false;\n\n    this.onSelect = function (selectInfo) {\n      if (selectInfo.jsEvent) {\n        _this.isRecentPointerDateSelect = true;\n      }\n    };\n\n    this.onDocumentPointerDown = function (pev) {\n      var unselectCancel = _this.context.options.unselectCancel;\n      var downEl = getEventTargetViaRoot(pev.origEvent);\n      _this.matchesCancel = !!elementClosest(downEl, unselectCancel);\n      _this.matchesEvent = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on an event?\n    };\n\n    this.onDocumentPointerUp = function (pev) {\n      var context = _this.context;\n      var documentPointer = _this.documentPointer;\n      var calendarState = context.getCurrentData(); // touch-scrolling should never unfocus any type of selection\n\n      if (!documentPointer.wasTouchScroll) {\n        if (calendarState.dateSelection && // an existing date selection?\n        !_this.isRecentPointerDateSelect // a new pointer-initiated date selection since last onDocumentPointerUp?\n        ) {\n          var unselectAuto = context.options.unselectAuto;\n\n          if (unselectAuto && (!unselectAuto || !_this.matchesCancel)) {\n            context.calendarApi.unselect(pev);\n          }\n        }\n\n        if (calendarState.eventSelection && // an existing event selected?\n        !_this.matchesEvent // interaction DIDN'T start on an event\n        ) {\n          context.dispatch({\n            type: 'UNSELECT_EVENT'\n          });\n        }\n      }\n\n      _this.isRecentPointerDateSelect = false;\n    };\n\n    var documentPointer = this.documentPointer = new PointerDragging(document);\n    documentPointer.shouldIgnoreMove = true;\n    documentPointer.shouldWatchScroll = false;\n    documentPointer.emitter.on('pointerdown', this.onDocumentPointerDown);\n    documentPointer.emitter.on('pointerup', this.onDocumentPointerUp);\n    /*\n    TODO: better way to know about whether there was a selection with the pointer\n    */\n\n    context.emitter.on('select', this.onSelect);\n  }\n\n  UnselectAuto.prototype.destroy = function () {\n    this.context.emitter.off('select', this.onSelect);\n    this.documentPointer.destroy();\n  };\n\n  return UnselectAuto;\n}();\n\nvar OPTION_REFINERS = {\n  fixedMirrorParent: identity\n};\nvar LISTENER_REFINERS = {\n  dateClick: identity,\n  eventDragStart: identity,\n  eventDragStop: identity,\n  eventDrop: identity,\n  eventResizeStart: identity,\n  eventResizeStop: identity,\n  eventResize: identity,\n  drop: identity,\n  eventReceive: identity,\n  eventLeave: identity\n};\n/*\nGiven an already instantiated draggable object for one-or-more elements,\nInterprets any dragging as an attempt to drag an events that lives outside\nof a calendar onto a calendar.\n*/\n\nvar ExternalElementDragging =\n/** @class */\nfunction () {\n  function ExternalElementDragging(dragging, suppliedDragMeta) {\n    var _this = this;\n\n    this.receivingContext = null;\n    this.droppableEvent = null; // will exist for all drags, even if create:false\n\n    this.suppliedDragMeta = null;\n    this.dragMeta = null;\n\n    this.handleDragStart = function (ev) {\n      _this.dragMeta = _this.buildDragMeta(ev.subjectEl);\n    };\n\n    this.handleHitUpdate = function (hit, isFinal, ev) {\n      var dragging = _this.hitDragging.dragging;\n      var receivingContext = null;\n      var droppableEvent = null;\n      var isInvalid = false;\n      var interaction = {\n        affectedEvents: createEmptyEventStore(),\n        mutatedEvents: createEmptyEventStore(),\n        isEvent: _this.dragMeta.create\n      };\n\n      if (hit) {\n        receivingContext = hit.context;\n\n        if (_this.canDropElOnCalendar(ev.subjectEl, receivingContext)) {\n          droppableEvent = computeEventForDateSpan(hit.dateSpan, _this.dragMeta, receivingContext);\n          interaction.mutatedEvents = eventTupleToStore(droppableEvent);\n          isInvalid = !isInteractionValid(interaction, hit.dateProfile, receivingContext);\n\n          if (isInvalid) {\n            interaction.mutatedEvents = createEmptyEventStore();\n            droppableEvent = null;\n          }\n        }\n      }\n\n      _this.displayDrag(receivingContext, interaction); // show mirror if no already-rendered mirror element OR if we are shutting down the mirror (?)\n      // TODO: wish we could somehow wait for dispatch to guarantee render\n\n\n      dragging.setMirrorIsVisible(isFinal || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n\n      if (!isInvalid) {\n        enableCursor();\n      } else {\n        disableCursor();\n      }\n\n      if (!isFinal) {\n        dragging.setMirrorNeedsRevert(!droppableEvent);\n        _this.receivingContext = receivingContext;\n        _this.droppableEvent = droppableEvent;\n      }\n    };\n\n    this.handleDragEnd = function (pev) {\n      var _a = _this,\n          receivingContext = _a.receivingContext,\n          droppableEvent = _a.droppableEvent;\n\n      _this.clearDrag();\n\n      if (receivingContext && droppableEvent) {\n        var finalHit = _this.hitDragging.finalHit;\n        var finalView = finalHit.context.viewApi;\n        var dragMeta = _this.dragMeta;\n        receivingContext.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), {\n          draggedEl: pev.subjectEl,\n          jsEvent: pev.origEvent,\n          view: finalView\n        }));\n\n        if (dragMeta.create) {\n          var addingEvents_1 = eventTupleToStore(droppableEvent);\n          receivingContext.dispatch({\n            type: 'MERGE_EVENTS',\n            eventStore: addingEvents_1\n          });\n\n          if (pev.isTouch) {\n            receivingContext.dispatch({\n              type: 'SELECT_EVENT',\n              eventInstanceId: droppableEvent.instance.instanceId\n            });\n          } // signal that an external event landed\n\n\n          receivingContext.emitter.trigger('eventReceive', {\n            event: new EventApi(receivingContext, droppableEvent.def, droppableEvent.instance),\n            relatedEvents: [],\n            revert: function revert() {\n              receivingContext.dispatch({\n                type: 'REMOVE_EVENTS',\n                eventStore: addingEvents_1\n              });\n            },\n            draggedEl: pev.subjectEl,\n            view: finalView\n          });\n        }\n      }\n\n      _this.receivingContext = null;\n      _this.droppableEvent = null;\n    };\n\n    var hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n    hitDragging.requireInitial = false; // will start outside of a component\n\n    hitDragging.emitter.on('dragstart', this.handleDragStart);\n    hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n    hitDragging.emitter.on('dragend', this.handleDragEnd);\n    this.suppliedDragMeta = suppliedDragMeta;\n  }\n\n  ExternalElementDragging.prototype.buildDragMeta = function (subjectEl) {\n    if (typeof this.suppliedDragMeta === 'object') {\n      return parseDragMeta(this.suppliedDragMeta);\n    }\n\n    if (typeof this.suppliedDragMeta === 'function') {\n      return parseDragMeta(this.suppliedDragMeta(subjectEl));\n    }\n\n    return getDragMetaFromEl(subjectEl);\n  };\n\n  ExternalElementDragging.prototype.displayDrag = function (nextContext, state) {\n    var prevContext = this.receivingContext;\n\n    if (prevContext && prevContext !== nextContext) {\n      prevContext.dispatch({\n        type: 'UNSET_EVENT_DRAG'\n      });\n    }\n\n    if (nextContext) {\n      nextContext.dispatch({\n        type: 'SET_EVENT_DRAG',\n        state: state\n      });\n    }\n  };\n\n  ExternalElementDragging.prototype.clearDrag = function () {\n    if (this.receivingContext) {\n      this.receivingContext.dispatch({\n        type: 'UNSET_EVENT_DRAG'\n      });\n    }\n  };\n\n  ExternalElementDragging.prototype.canDropElOnCalendar = function (el, receivingContext) {\n    var dropAccept = receivingContext.options.dropAccept;\n\n    if (typeof dropAccept === 'function') {\n      return dropAccept.call(receivingContext.calendarApi, el);\n    }\n\n    if (typeof dropAccept === 'string' && dropAccept) {\n      return Boolean(elementMatches(el, dropAccept));\n    }\n\n    return true;\n  };\n\n  return ExternalElementDragging;\n}(); // Utils for computing event store from the DragMeta\n// ----------------------------------------------------------------------------------------------------\n\n\nfunction computeEventForDateSpan(dateSpan, dragMeta, context) {\n  var defProps = __assign({}, dragMeta.leftoverProps);\n\n  for (var _i = 0, _a = context.pluginHooks.externalDefTransforms; _i < _a.length; _i++) {\n    var transform = _a[_i];\n\n    __assign(defProps, transform(dateSpan, dragMeta));\n  }\n\n  var _b = refineEventDef(defProps, context),\n      refined = _b.refined,\n      extra = _b.extra;\n\n  var def = parseEventDef(refined, extra, dragMeta.sourceId, dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration), // hasEnd\n  context);\n  var start = dateSpan.range.start; // only rely on time info if drop zone is all-day,\n  // otherwise, we already know the time\n\n  if (dateSpan.allDay && dragMeta.startTime) {\n    start = context.dateEnv.add(start, dragMeta.startTime);\n  }\n\n  var end = dragMeta.duration ? context.dateEnv.add(start, dragMeta.duration) : getDefaultEventEnd(dateSpan.allDay, start, context);\n  var instance = createEventInstance(def.defId, {\n    start: start,\n    end: end\n  });\n  return {\n    def: def,\n    instance: instance\n  };\n} // Utils for extracting data from element\n// ----------------------------------------------------------------------------------------------------\n\n\nfunction getDragMetaFromEl(el) {\n  var str = getEmbeddedElData(el, 'event');\n  var obj = str ? JSON.parse(str) : {\n    create: false\n  }; // if no embedded data, assume no event creation\n\n  return parseDragMeta(obj);\n}\n\nconfig.dataAttrPrefix = '';\n\nfunction getEmbeddedElData(el, name) {\n  var prefix = config.dataAttrPrefix;\n  var prefixedName = (prefix ? prefix + '-' : '') + name;\n  return el.getAttribute('data-' + prefixedName) || '';\n}\n/*\nMakes an element (that is *external* to any calendar) draggable.\nCan pass in data that determines how an event will be created when dropped onto a calendar.\nLeverages FullCalendar's internal drag-n-drop functionality WITHOUT a third-party drag system.\n*/\n\n\nvar ExternalDraggable =\n/** @class */\nfunction () {\n  function ExternalDraggable(el, settings) {\n    var _this = this;\n\n    if (settings === void 0) {\n      settings = {};\n    }\n\n    this.handlePointerDown = function (ev) {\n      var dragging = _this.dragging;\n      var _a = _this.settings,\n          minDistance = _a.minDistance,\n          longPressDelay = _a.longPressDelay;\n      dragging.minDistance = minDistance != null ? minDistance : ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance;\n      dragging.delay = ev.isTouch ? // TODO: eventually read eventLongPressDelay instead vvv\n      longPressDelay != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay : 0;\n    };\n\n    this.handleDragStart = function (ev) {\n      if (ev.isTouch && _this.dragging.delay && ev.subjectEl.classList.contains('fc-event')) {\n        _this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n      }\n    };\n\n    this.settings = settings;\n    var dragging = this.dragging = new FeaturefulElementDragging(el);\n    dragging.touchScrollAllowed = false;\n\n    if (settings.itemSelector != null) {\n      dragging.pointer.selector = settings.itemSelector;\n    }\n\n    if (settings.appendTo != null) {\n      dragging.mirror.parentNode = settings.appendTo; // TODO: write tests\n    }\n\n    dragging.emitter.on('pointerdown', this.handlePointerDown);\n    dragging.emitter.on('dragstart', this.handleDragStart);\n    new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n  }\n\n  ExternalDraggable.prototype.destroy = function () {\n    this.dragging.destroy();\n  };\n\n  return ExternalDraggable;\n}();\n/*\nDetects when a *THIRD-PARTY* drag-n-drop system interacts with elements.\nThe third-party system is responsible for drawing the visuals effects of the drag.\nThis class simply monitors for pointer movements and fires events.\nIt also has the ability to hide the moving element (the \"mirror\") during the drag.\n*/\n\n\nvar InferredElementDragging =\n/** @class */\nfunction (_super) {\n  __extends(InferredElementDragging, _super);\n\n  function InferredElementDragging(containerEl) {\n    var _this = _super.call(this, containerEl) || this;\n\n    _this.shouldIgnoreMove = false;\n    _this.mirrorSelector = '';\n    _this.currentMirrorEl = null;\n\n    _this.handlePointerDown = function (ev) {\n      _this.emitter.trigger('pointerdown', ev);\n\n      if (!_this.shouldIgnoreMove) {\n        // fire dragstart right away. does not support delay or min-distance\n        _this.emitter.trigger('dragstart', ev);\n      }\n    };\n\n    _this.handlePointerMove = function (ev) {\n      if (!_this.shouldIgnoreMove) {\n        _this.emitter.trigger('dragmove', ev);\n      }\n    };\n\n    _this.handlePointerUp = function (ev) {\n      _this.emitter.trigger('pointerup', ev);\n\n      if (!_this.shouldIgnoreMove) {\n        // fire dragend right away. does not support a revert animation\n        _this.emitter.trigger('dragend', ev);\n      }\n    };\n\n    var pointer = _this.pointer = new PointerDragging(containerEl);\n    pointer.emitter.on('pointerdown', _this.handlePointerDown);\n    pointer.emitter.on('pointermove', _this.handlePointerMove);\n    pointer.emitter.on('pointerup', _this.handlePointerUp);\n    return _this;\n  }\n\n  InferredElementDragging.prototype.destroy = function () {\n    this.pointer.destroy();\n  };\n\n  InferredElementDragging.prototype.setIgnoreMove = function (bool) {\n    this.shouldIgnoreMove = bool;\n  };\n\n  InferredElementDragging.prototype.setMirrorIsVisible = function (bool) {\n    if (bool) {\n      // restore a previously hidden element.\n      // use the reference in case the selector class has already been removed.\n      if (this.currentMirrorEl) {\n        this.currentMirrorEl.style.visibility = '';\n        this.currentMirrorEl = null;\n      }\n    } else {\n      var mirrorEl = this.mirrorSelector // TODO: somehow query FullCalendars WITHIN shadow-roots\n      ? document.querySelector(this.mirrorSelector) : null;\n\n      if (mirrorEl) {\n        this.currentMirrorEl = mirrorEl;\n        mirrorEl.style.visibility = 'hidden';\n      }\n    }\n  };\n\n  return InferredElementDragging;\n}(ElementDragging);\n/*\nBridges third-party drag-n-drop systems with FullCalendar.\nMust be instantiated and destroyed by caller.\n*/\n\n\nvar ThirdPartyDraggable =\n/** @class */\nfunction () {\n  function ThirdPartyDraggable(containerOrSettings, settings) {\n    var containerEl = document;\n\n    if ( // wish we could just test instanceof EventTarget, but doesn't work in IE11\n    containerOrSettings === document || containerOrSettings instanceof Element) {\n      containerEl = containerOrSettings;\n      settings = settings || {};\n    } else {\n      settings = containerOrSettings || {};\n    }\n\n    var dragging = this.dragging = new InferredElementDragging(containerEl);\n\n    if (typeof settings.itemSelector === 'string') {\n      dragging.pointer.selector = settings.itemSelector;\n    } else if (containerEl === document) {\n      dragging.pointer.selector = '[data-event]';\n    }\n\n    if (typeof settings.mirrorSelector === 'string') {\n      dragging.mirrorSelector = settings.mirrorSelector;\n    }\n\n    new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n  }\n\n  ThirdPartyDraggable.prototype.destroy = function () {\n    this.dragging.destroy();\n  };\n\n  return ThirdPartyDraggable;\n}();\n\nvar main = createPlugin({\n  componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n  calendarInteractions: [UnselectAuto],\n  elementDraggingImpl: FeaturefulElementDragging,\n  optionRefiners: OPTION_REFINERS,\n  listenerRefiners: LISTENER_REFINERS\n});\nexport default main;\nexport { ExternalDraggable as Draggable, FeaturefulElementDragging, PointerDragging, ThirdPartyDraggable };","/*!\nFullCalendar v5.10.2\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport { __assign } from 'tslib';\nimport { identity, createPlugin, requestJson, addDays } from '@fullcalendar/common'; // rename this file to options.ts like other packages?\n\nvar OPTION_REFINERS = {\n  googleCalendarApiKey: String\n};\nvar EVENT_SOURCE_REFINERS = {\n  googleCalendarApiKey: String,\n  googleCalendarId: String,\n  googleCalendarApiBase: String,\n  extraParams: identity\n}; // TODO: expose somehow\n\nvar API_BASE = 'https://www.googleapis.com/calendar/v3/calendars';\nvar eventSourceDef = {\n  parseMeta: function parseMeta(refined) {\n    var googleCalendarId = refined.googleCalendarId;\n\n    if (!googleCalendarId && refined.url) {\n      googleCalendarId = parseGoogleCalendarId(refined.url);\n    }\n\n    if (googleCalendarId) {\n      return {\n        googleCalendarId: googleCalendarId,\n        googleCalendarApiKey: refined.googleCalendarApiKey,\n        googleCalendarApiBase: refined.googleCalendarApiBase,\n        extraParams: refined.extraParams\n      };\n    }\n\n    return null;\n  },\n  fetch: function fetch(arg, onSuccess, onFailure) {\n    var _a = arg.context,\n        dateEnv = _a.dateEnv,\n        options = _a.options;\n    var meta = arg.eventSource.meta;\n    var apiKey = meta.googleCalendarApiKey || options.googleCalendarApiKey;\n\n    if (!apiKey) {\n      onFailure({\n        message: 'Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/'\n      });\n    } else {\n      var url = buildUrl(meta); // TODO: make DRY with json-feed-event-source\n\n      var extraParams = meta.extraParams;\n      var extraParamsObj = typeof extraParams === 'function' ? extraParams() : extraParams;\n      var requestParams_1 = buildRequestParams(arg.range, apiKey, extraParamsObj, dateEnv);\n      requestJson('GET', url, requestParams_1, function (body, xhr) {\n        if (body.error) {\n          onFailure({\n            message: 'Google Calendar API: ' + body.error.message,\n            errors: body.error.errors,\n            xhr: xhr\n          });\n        } else {\n          onSuccess({\n            rawEvents: gcalItemsToRawEventDefs(body.items, requestParams_1.timeZone),\n            xhr: xhr\n          });\n        }\n      }, function (message, xhr) {\n        onFailure({\n          message: message,\n          xhr: xhr\n        });\n      });\n    }\n  }\n};\n\nfunction parseGoogleCalendarId(url) {\n  var match; // detect if the ID was specified as a single string.\n  // will match calendars like \"asdf1234@calendar.google.com\" in addition to person email calendars.\n\n  if (/^[^/]+@([^/.]+\\.)*(google|googlemail|gmail)\\.com$/.test(url)) {\n    return url;\n  }\n\n  if ((match = /^https:\\/\\/www.googleapis.com\\/calendar\\/v3\\/calendars\\/([^/]*)/.exec(url)) || (match = /^https?:\\/\\/www.google.com\\/calendar\\/feeds\\/([^/]*)/.exec(url))) {\n    return decodeURIComponent(match[1]);\n  }\n\n  return null;\n}\n\nfunction buildUrl(meta) {\n  var apiBase = meta.googleCalendarApiBase;\n\n  if (!apiBase) {\n    apiBase = API_BASE;\n  }\n\n  return apiBase + '/' + encodeURIComponent(meta.googleCalendarId) + '/events';\n}\n\nfunction buildRequestParams(range, apiKey, extraParams, dateEnv) {\n  var params;\n  var startStr;\n  var endStr;\n\n  if (dateEnv.canComputeOffset) {\n    // strings will naturally have offsets, which GCal needs\n    startStr = dateEnv.formatIso(range.start);\n    endStr = dateEnv.formatIso(range.end);\n  } else {\n    // when timezone isn't known, we don't know what the UTC offset should be, so ask for +/- 1 day\n    // from the UTC day-start to guarantee we're getting all the events\n    // (start/end will be UTC-coerced dates, so toISOString is okay)\n    startStr = addDays(range.start, -1).toISOString();\n    endStr = addDays(range.end, 1).toISOString();\n  }\n\n  params = __assign(__assign({}, extraParams || {}), {\n    key: apiKey,\n    timeMin: startStr,\n    timeMax: endStr,\n    singleEvents: true,\n    maxResults: 9999\n  });\n\n  if (dateEnv.timeZone !== 'local') {\n    params.timeZone = dateEnv.timeZone;\n  }\n\n  return params;\n}\n\nfunction gcalItemsToRawEventDefs(items, gcalTimezone) {\n  return items.map(function (item) {\n    return gcalItemToRawEventDef(item, gcalTimezone);\n  });\n}\n\nfunction gcalItemToRawEventDef(item, gcalTimezone) {\n  var url = item.htmlLink || null; // make the URLs for each event show times in the correct timezone\n\n  if (url && gcalTimezone) {\n    url = injectQsComponent(url, 'ctz=' + gcalTimezone);\n  }\n\n  return {\n    id: item.id,\n    title: item.summary,\n    start: item.start.dateTime || item.start.date,\n    end: item.end.dateTime || item.end.date,\n    url: url,\n    location: item.location,\n    description: item.description,\n    attachments: item.attachments || [],\n    extendedProps: (item.extendedProperties || {}).shared || {}\n  };\n} // Injects a string like \"arg=value\" into the querystring of a URL\n// TODO: move to a general util file?\n\n\nfunction injectQsComponent(url, component) {\n  // inject it after the querystring but before the fragment\n  return url.replace(/(\\?.*?)?(#|$)/, function (whole, qs, hash) {\n    return (qs ? qs + '&' : '?') + component + hash;\n  });\n}\n\nvar main = createPlugin({\n  eventSourceDefs: [eventSourceDef],\n  optionRefiners: OPTION_REFINERS,\n  eventSourceRefiners: EVENT_SOURCE_REFINERS\n});\nexport default main;","import React, { useEffect } from 'react';\nimport Box from '@mui/material/Box';\nimport Grid from '@mui/material/Grid';\nimport Link from '@mui/material/Link';\nimport Typography from '@mui/material/Typography';\nimport Section from '../section';\nimport SectionTitle from '../section-title';\nimport MailIcon from '../../images/icon/contact_mail.svg';\nimport { Calendar } from '@fullcalendar/core';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport googleCalendarPlugin from '@fullcalendar/google-calendar';\n\nconst mail_address = 'addictgymjp@gmail.com';\n\nconst Head1 = props => (\n  <Typography\n    variant='h5'\n    align='center'\n    sx={{\n      py: 2,\n      fontSize: 24,\n      border: '1px solid #b28223',\n      boxSizing: 'border-box'\n    }}\n  >\n    {props.children}\n  </Typography>\n);\n\nconst Head2 = props => (\n  <Typography\n    variant='h6'\n    sx={{\n      my: 3,\n      pl: 2,\n      borderLeft: '2px solid #b28223',\n      boxSizing: 'border-box'\n    }}\n  >\n    {props.children}\n  </Typography>\n);\n\nconst SectionBooking = () => {\n  useEffect(() => {\n    const calendarEl = document.getElementById('google-calendar');\n\n    const calendar = new Calendar(calendarEl, {\n      plugins: [dayGridPlugin, interactionPlugin, googleCalendarPlugin],\n      googleCalendarApiKey: 'AIzaSyB_uOM4hNCR3bDBaFw4X9IkJs_7iXjhtZc',\n      events: {\n        googleCalendarId: 'addictgymjp@gmail.com',\n        color: '#b28223'\n      },\n      locale: 'en',\n      displayEventEnd: true,\n      eventTimeFormat: {\n        hour: '2-digit',\n        minute: '2-digit',\n        meridiem: false,\n        hour12: false\n      },\n      eventDidMount: e => {\n        const target = e.el;\n        target.querySelector('.fc-event-title').textContent = 'Reserved';\n      }\n    });\n\n    calendar.render();\n\n    window.addEventListener('resize', () => {\n      calendar.render();\n    });\n  });\n\n  return (\n    <Section id='booking' theme='dark'>\n      <SectionTitle theme='dark'>Booking</SectionTitle>\n\n      <Box overflow='scroll'>\n        <Box\n          overflow='visible'\n          sx={{\n            fontSize: {\n              xs: '12px',\n              md: '14px'\n            },\n            minWidth: '640px'\n          }}\n        >\n          <div id='google-calendar'></div>\n        </Box>\n      </Box>\n\n      <Grid container spacing={3}>\n        <Grid\n          item\n          xs={12}\n          md={6}\n          sx={{\n            mt: 3\n          }}\n        >\n          <Head1></Head1>\n          <Head2></Head2>\n          <Typography>\n            \n          </Typography>\n          <ul>\n            <li>\n              <Typography></Typography>\n            </li>\n            <li>\n              <Typography></Typography>\n            </li>\n            <li>\n              <Typography>Gmail </Typography>\n            </li>\n            <li>\n              <Typography>\n                <small></small>\n              </Typography>\n            </li>\n          </ul>\n          <Typography variant='body2'>\n            \n          </Typography>\n          <Typography\n            sx={{\n              mt: 2\n            }}\n          >\n            <img\n              src={MailIcon}\n              alt={mail_address}\n              width={24}\n              height={18}\n              style={{\n                marginRight: '0.5em',\n                pointerEvents: 'none',\n                verticalAlign: 'text-bottom'\n              }}\n            />\n            <Link href={`mailto:${mail_address}`} color='#fff'>\n              {mail_address}\n            </Link>\n          </Typography>\n        </Grid>\n        <Grid\n          item\n          xs={12}\n          md={6}\n          sx={{\n            mt: 3\n          }}\n        >\n          <Head1></Head1>\n          <Head2></Head2>\n          <ol>\n            <li>\n              <Typography>\n                \n                <Link\n                  color='#fff'\n                  href='https://works.do/R/ti/p/addictgymjp@addictgym'\n                  target='_blank'\n                  rel='noopener noreferrer'\n                >\n                  addict gym  LINE\n                </Link>{' '}\n                \n              </Typography>\n            </li>\n            <li\n              style={{\n                marginTop: '1em'\n              }}\n            >\n              <Typography>\n                \n              </Typography>\n            </li>\n            <li\n              style={{\n                marginTop: '1em'\n              }}\n            >\n              <Typography>\n                \n              </Typography>\n            </li>\n          </ol>\n          <Head2></Head2>\n          <ul>\n            <li>\n              <Typography>\n                \n              </Typography>\n            </li>\n            <li style={{ marginTop: '1em' }}>\n              <Typography>\n                \n              </Typography>\n            </li>\n            <li style={{ marginTop: '1em' }}>\n              <Typography>\n                \n              </Typography>\n            </li>\n            <li style={{ marginTop: '1em' }}>\n              <Typography>\n                \n              </Typography>\n            </li>\n          </ul>\n        </Grid>\n      </Grid>\n    </Section>\n  );\n};\n\nexport default SectionBooking;\n"],"names":["FullCalendarVDom","Error","Component","createElement","render","createRef","Fragment","createContext","createPortal","flushSync","unmountComponentAtNode","_extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","TypeError","String","__","this","constructor","create","_assign","assign","t","s","i","n","arguments","length","apply","__spreadArray","to","from","pack","ar","l","slice","concat","u","o","r","f","e","c","a","h","parentNode","removeChild","v","children","defaultProps","y","type","props","key","ref","__k","__b","__e","__d","__c","__h","__v","vnode","current","_","context","k","indexOf","base","m","push","g","__r","debounceRendering","sort","some","__P","j","__n","ownerSVGElement","z","w","A","isArray","x","P","N","M","appendChild","nextSibling","insertBefore","$","setProperty","test","H","style","cssText","replace","toLowerCase","addEventListener","T","I","removeEventListener","setAttribute","removeAttribute","event","C","contextType","value","__E","O","sub","state","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","forEach","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","L","diffed","localName","nodeType","document","createTextNode","createElementNS","is","data","childNodes","dangerouslySetInnerHTML","attributes","name","__html","innerHTML","checked","unmount","componentWillUnmount","S","firstChild","D","Consumer","Provider","splice","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","Promise","then","bind","resolve","setTimeout","shift","__H","clearTimeout","cancelAnimationFrame","requestAnimationFrame","filter","E","isPureReactComponent","__f","Symbol","for","__u","U","__R","map","__O","pop","fallback","delete","revealOrder","size","W","containerInfo","get","Map","reverse","set","V","defineProperty","configurable","writable","Z","Y","cancelBubble","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","J","class","K","multiple","selected","defaultValue","className","enumerable","$$typeof","Q","globalObj","globalThis","window","console","warn","ContextType","origProvider","_this","isNew","subs_1","_props","old","runBeforeFlush","oldDebounceRendering","callbackQ","execCallbackSync","callback","FakeComponent","node","_super","Calendar","el","optionOverrides","isRendering","isRendered","currentClassNames","customContentRenderId","handleAction","action","renderRunner","tryDrain","handleData","currentData","request","calendarOptions","rerenderDelay","handleRenderRequest","currentData_1","options","theme","emitter","classNames","height","isHeightAuto","forPrint","setClassNames","setHeight","calendarApi","onAction","onData","viewApi","wasRendering","updateSize","destroy","batchRendering","func","pause","resume","pauseRendering","resumeRendering","resetOptions","append","currentDataManager","classList","_i","_a","remove","_b","classNames_1","add","TableView","headerElRef","renderSimpleLayout","headerRowContent","bodyContent","sections","stickyHeaderDates","isSticky","chunk","elRef","tableClassName","rowContent","liquid","content","viewSpec","rootElRef","join","collapsibleWidth","cols","renderHScrollLayout","colCnt","dayMinWidth","ScrollGrid","pluginHooks","scrollGridImpl","stickyFooterScrollbar","chunks","colGroups","span","minWidth","splitSegsByRow","segs","rowCnt","byRow","segs_1","seg","row","splitSegsByFirstCol","byCol","segs_2","firstCol","splitInteractionByRow","ui","affectedInstances","isEvent","TableCellTop","navLinkAttrs","date","dateProfile","todayRange","showDayNumber","extraHookProps","defaultContent","renderTopInner","innerElRef","innerContent","forceDayTop","id","dayNumberId","dayNumberText","DEFAULT_TABLE_EVENT_TIME_FORMAT","hour","minute","omitZeroMinute","meridiem","hasListItemDisplay","display","eventRange","def","allDay","lastCol","isStart","isEnd","TableBlockEvent","extraClassNames","defaultTimeFormat","defaultDisplayEventEnd","disableResizing","TableListItemEvent","timeFormat","eventTimeFormat","timeText","renderInnerContent","isDragging","isResizing","isDateSelecting","isSelected","isPast","isFuture","isToday","innerProps","borderColor","backgroundColor","title","TableCellMoreLink","compileSegs","singlePlacements","allSegs","invisibleSegs","allDayDate","moreCnt","hiddenSegs","alignmentElRef","alignGridTop","extraDateSpan","popoverContent","isForcedInvisible","eventDrag","eventResize","instanceId","instance","visibility","eventSelection","handleClick","isExpanded","popoverId","singlePlacements_1","placement","isVisible","DEFAULT_WEEK_NUM_FORMAT","week","TableCell","handleRootEl","dayElRef","dayClassNames","rootDataAttrs","isDisabled","role","extraDataAttrs","showWeekNumber","defaultFormat","weekElRef","weekClassNames","fgContentElRef","fgContent","marginTop","moreMarginTop","bgContent","computeFgSegPlacement","dayMaxEvents","dayMaxEventRows","strictOrder","eventInstanceHeights","maxContentHeight","cells","hierarchy","DayGridSegHierarchy","allowReslicing","maxCoord","hiddenConsumes","maxStackCnt","segInputs","unknownHeightSegs","eventHeight","index","thickness","start","end","hiddenEntries","addSegs","allRects","rectsByEachCol","rects","col","rects_3","rect","groupRectsByEachCol","singleColPlacements","multiColPlacements","leftoverMargins","currentHeight","currentMarginTop","rects_1","resliceSeg","isAbsolute","absoluteTop","levelCoord","multiPlacements","rects_2","isFirstCol","placeRects","toRects","moreCnts","moreMarginTops","unknownHeightSegs_1","hiddenEntries_1","hiddenEntry","hiddenSpan","spanStart","spanEnd","origRange","range","slicedRange","durationEditable","valueOf","forceHidden","entriesByLevel","excludeHidden","entry","level","handleInvalidInsertion","insertion","touchingEntry","touchingLevel","touchingLateral","touchingEntryId","placeholderEntry","splitEntry","TableRow","cellElRefs","frameElRefs","fgElRefs","segHarnessRefs","framePositions","businessHoursByCol","businessHourSegs","bgEventSegsByCol","bgEventSegs","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","fgEventSegs","eventOrder","eventOrderStrict","renderIntro","cell","normalFgNodes","renderFgSegs","mirrorFgNodes","mirrorSegs","colPlacements","topsByInstanceId","colPlacements_1","placements_1","buildAbsoluteTopHash","buildMirrorPlacements","Boolean","showDayNumbers","showWeekNumbers","renderFillSegs","updateSizing","prevProps","prevState","currentProps","dateSelectionSegs","segPlacements","isMirror","nodes","segPlacements_1","left","right","isRtl","lefts","rights","top","fillType","leftRightCss","isExternalSizingChange","clientWidth","frameEls","currentMap","originEl","oldInstanceHeights","newInstanceHeights","queryEventInstanceHeights","limitByContentHeight","computeMaxContentHeight","segElMap","Math","round","getBoundingClientRect","split","max","firstKey","cellEl","fcContainerEl","bottom","getCellEls","elMap","addStateEquality","Table","splitBusinessHourSegs","splitBgEventSegs","splitFgEventSegs","splitDateSelectionSegs","splitEventDrag","splitEventResize","rowRefs","rootEl","registerInteractiveComponent","isHitComboAllowed","unregisterInteractiveComponent","expandRows","businessHourSegsByRow","bgEventSegsByRow","fgEventSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","limitViaBalanced","width","tableMinWidth","unit","nowDate","clientHeight","colGroupNode","toISOString","renderRowIntro","isSegAllDay","prepareHits","rowPositions","collect","rowObj","colPositions","queryHit","positionLeft","positionTop","leftToIndex","topToIndex","dateSpan","getCellRange","dayEl","getCellEl","tops","bottoms","layer","DayTableSlicer","forceDayIfListItem","sliceRange","dateRange","dayTableModel","DayTable","slicer","tableRef","sliceProps","nextDayThreshold","headerAlignElRef","DayTableView","buildDayTableModel","headerRef","dateProfileGenerator","headerContent","dayHeaders","dates","headerDates","datesRepDistinctDays","contentArg","businessHours","dateSelection","eventStore","eventUiBases","tableColGroupNode","weekNumbers","daySeries","renderRange","currentRangeUnit","TableDateProfileGenerator","buildRenderRange","currentRange","isRangeAllDay","endOfWeek","dateEnv","startOfWeek","monthMode","fixedWeekCount","ceil","initialView","views","dayGrid","component","dateProfileGeneratorClass","dayGridDay","duration","days","dayGridWeek","weeks","dayGridMonth","months","ignoreMouseDepth","listenerCnt","isWindowTouchMoveCancelled","PointerDragging","containerEl","subjectEl","selector","handleSelector","shouldIgnoreMove","shouldWatchScroll","isTouchDragging","wasTouchScroll","handleMouseDown","ev","shouldIgnoreMouse","button","ctrlKey","isPrimaryMouseButton","tryStart","pev","createEventFromMouse","trigger","initScrollWatch","handleMouseMove","handleMouseUp","recordCoords","cleanup","handleTouchStart","createEventFromTouch","targetEl","target","handleTouchMove","handleTouchEnd","handleTouchScroll","handleScroll","pageX","pageXOffset","prevScrollX","prevPageX","pageY","pageYOffset","prevScrollY","prevPageY","origEvent","isTouch","deltaX","origPageX","deltaY","origPageY","passive","onWindowTouchMove","querySubjectEl","downEl","destroyScrollWatch","cancelTouchScroll","isFirst","touches","preventDefault","ElementMirror","sourceEl","mirrorEl","sourceElRect","body","zIndex","revertDuration","origScreenX","origScreenY","updateElPosition","handleMove","setIsVisible","bool","stop","needsRevertAnimation","done","doRevertAnimation","finalSourceElRect","transition","getMirrorEl","cloneNode","position","boxSizing","margin","ScrollGeomCache","scrollController","doesListening","scrollTop","getScrollTop","scrollLeft","getScrollLeft","handleScrollChange","origScrollTop","origScrollLeft","scrollWidth","getScrollWidth","scrollHeight","getScrollHeight","getClientWidth","getClientHeight","clientRect","computeClientRect","getEventTarget","setScrollTop","min","getMaxScrollTop","setScrollLeft","getMaxScrollLeft","ElementScrollGeomCache","WindowScrollGeomCache","getTime","performance","now","Date","AutoScroller","isEnabled","scrollQuery","edgeThreshold","maxVelocity","pointerScreenX","pointerScreenY","isAnimating","scrollCaches","everMovedUp","everMovedDown","everMovedLeft","everMovedRight","animate","edge","computeBestEdge","handleSide","msSinceRequest","requestAnimation","scrollStartEl","buildCaches","yDelta","xDelta","seconds","scrollCache","invDistance","distance","velocity","sign","bestSide","scrollCaches_1","leftDist","rightDist","topDist","bottomDist","canScrollUp","canScrollDown","canScrollLeft","canScrollRight","queryScrollEls","els","query","querySelectorAll","FeaturefulElementDragging","delay","minDistance","touchScrollAllowed","mirrorNeedsRevert","isInteracting","isDelayEnded","isDistanceSurpassed","delayTimeoutId","onPointerDown","pointer","mirror","startDelay","handleDistanceSurpassed","onPointerMove","autoScroller","onPointerUp","tryStopDrag","on","handleDelayEnd","tryStartDrag","stopDrag","setIgnoreMove","setMirrorIsVisible","setMirrorNeedsRevert","setAutoScrollEnabled","OffsetTracker","origRect","scrollEl","computeLeft","computeTop","isWithinClipping","tagName","point","HitDragging","dragging","droppableStore","useSubjectCenter","requireInitial","initialHit","movingHit","finalHit","handlePointerDown","processFirstCoord","handleDragStart","handleDragMove","handlePointerUp","releaseHits","handleDragEnd","subjectRect","origPoint","adjustedPoint","HTMLElement","queryHitForOffset","slicedSubjectRect","coordAdjust","forceHandle","hit","isHitsEqual","offsetTrackers","interactionSettings","offsetLeft","offsetTop","bestHit","offsetTracker","originLeft","originTop","activeRange","componentId","hit0","hit1","buildDatePointApiWithContext","datePointTransforms","transform","toDate","dateStr","formatIso","omitTime","DateClicking","settings","isValidDateDownEl","hitDragging","arg","jsEvent","view","DateSelecting","dragSelection","canSelect","selectable","selectLongPressDelay","longPressDelay","getComponentTouchDelay$1","unselect","handleHitUpdate","isFinal","isInvalid","dateSelectionTransformers","dateSpan0","dateSpan1","ms","dateSelectionTransformers_1","res","transformer","joinHitsIntoSelection","dispatch","selection","selectMinDistance","dragScroll","EventDragging","subjectSeg","relevantEvents","receivingContext","validMutation","mutatedRelevantEvents","origTarget","initialContext","eventInstanceId","getCurrentData","eventDragMinDistance","eventLongPressDelay","getComponentTouchDelay","fixedMirrorParent","dragRevertDuration","isValid","isValidSegDownEl","contains","mutation","interaction","affectedEvents","mutatedEvents","receivingOptions","editable","droppable","massagers","date0","date1","standardProps","hasEnd","allDayMaintainDuration","delta","largeUnit","milliseconds","datesDelta","massagers_1","massager","computeEventMutation","eventDragMutationMassagers","displayDrag","querySelector","initialContext_1","receivingContext_1","eventDef","eventInstance","eventApi","relevantEvents_1","mutatedRelevantEvents_1","clearDrag","updatedEventApi","defs","defId","instances","eventChangeArg","oldEvent","relatedEvents","revert","transformed","eventDropTransformers","eventRemoveArg","draggedEl","addedEventDef","addedEventInstance","addedEventApi","eventAddArg","SELECTOR","useEventCenter","nextContext","prevContext","initialCalendar","EventResizing","draggingSegEl","draggingSeg","segEl","querySegEl","isFromStart","instanceRange","startDelta","endDelta","computeMutation","UnselectAuto","isRecentPointerDateSelect","matchesCancel","matchesEvent","onSelect","selectInfo","onDocumentPointerDown","unselectCancel","onDocumentPointerUp","documentPointer","calendarState","unselectAuto","off","OPTION_REFINERS","LISTENER_REFINERS","dateClick","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","drop","eventReceive","eventLeave","ExternalElementDragging","suppliedDragMeta","droppableEvent","dragMeta","buildDragMeta","canDropElOnCalendar","defProps","leftoverProps","externalDefTransforms","refined","extra","sourceId","forceEventDuration","startTime","computeEventForDateSpan","finalView","addingEvents_1","str","prefix","prefixedName","getAttribute","getEmbeddedElData","obj","JSON","parse","dropAccept","ExternalDraggable","itemSelector","appendTo","eventData","InferredElementDragging","mirrorSelector","currentMirrorEl","handlePointerMove","ThirdPartyDraggable","containerOrSettings","Element","componentInteractions","calendarInteractions","elementDraggingImpl","optionRefiners","listenerRefiners","googleCalendarApiKey","EVENT_SOURCE_REFINERS","googleCalendarId","googleCalendarApiBase","extraParams","API_BASE","eventSourceDef","parseMeta","url","match","exec","decodeURIComponent","parseGoogleCalendarId","fetch","onSuccess","onFailure","meta","eventSource","apiKey","apiBase","encodeURIComponent","buildUrl","extraParamsObj","requestParams_1","params","startStr","endStr","canComputeOffset","timeMin","timeMax","singleEvents","maxResults","timeZone","buildRequestParams","xhr","items","gcalTimezone","error","message","errors","rawEvents","item","htmlLink","whole","qs","hash","injectQsComponent","summary","dateTime","location","description","attachments","extendedProps","extendedProperties","shared","gcalItemToRawEventDef","eventSourceDefs","eventSourceRefiners","mail_address","Head1","Typography","variant","align","sx","py","fontSize","border","Head2","my","pl","borderLeft","useEffect","calendarEl","getElementById","calendar","plugins","dayGridPlugin","interactionPlugin","googleCalendarPlugin","events","color","locale","displayEventEnd","hour12","eventDidMount","textContent","Box","overflow","xs","md","Grid","container","spacing","mt","src","MailIcon","alt","marginRight","pointerEvents","verticalAlign","Link","href","rel"],"sourceRoot":""}